
================
DOM DEBUG OUTPUT
================

PAR Elektronische Gesundheitskarte und Telematikinfrastruktur
PAR Spezifikation ePA-Frontend des Versicherten

PAR {include-macros:/macros.gematikMacros}#renderGematikDokumentenTitel($document)


PAR -HEADING(ids=Dokumenteninformation)Dokumenteninformation
PAR Änderungen zur Vorversion
PAR Anpassungen des vorliegenden Dokumentes im Vergleich zur Vorversion können Sie der nachfolgenden Tabelle entnehmen.
PAR Dokumentenhistorie

TABLE(rows=19,cols=77+82+63+345+121)->
TR-> TH(0,0/1/1)->PAR Version TH(0,1/1/1)->PAR Stand TH(0,2/1/1)->PAR Kap./ Seite TH(0,3/1/1)->PAR Grund der Änderung, besondere Hinweise TH(0,4/1/1)->PAR Bearbeitung
TR-> TD(1,0/1/1)->PAR 1.0.0 TD(1,1/1/1)->PAR 18.12.18 TD(1,2/1/1)-> TD(1,3/1/1)->PAR Erstversion TD(1,4/1/1)->PAR gematik
TR-> TD(2,0/1/1)->PAR 1.1.0 TD(2,1/1/1)->PAR 15.05.19 TD(2,2/1/1)-> TD(2,3/1/1)->PAR Einarbeitung P18.1 TD(2,4/1/1)->PAR gematik
TR-> TD(3,0/1/1)->PAR 1.2.0 TD(3,1/1/1)->PAR 28.06.19 TD(3,2/1/1)-> TD(3,3/1/1)->PAR Einarbeitung P19.1 TD(3,4/1/1)->PAR gematik
TR-> TD(4,0/1/1)->PAR 1.3.0 TD(4,1/1/1)->PAR 02.10.19 TD(4,2/1/1)-> TD(4,3/1/1)->PAR Einarbeitung P20.1/2 TD(4,4/1/1)->PAR gematik
TR-> TD(5,0/1/1)->PAR 1.4.0 TD(5,1/1/1)->PAR 02.03.20 TD(5,2/1/1)-> TD(5,3/1/1)->PAR Einarbeitung P21.1 TD(5,4/1/1)->PAR gematik
TR-> TD(6,0/1/1)->PAR 1.5.0 TD(6,1/1/1)->PAR 27.03.20 TD(6,2/1/1)-> TD(6,3/1/1)->PAR Einarbeitung P21.2 TD(6,4/1/1)->PAR gematik
TR-> TD(7,0/1/1)->PAR 1.5.1 TD(7,1/1/1)->PAR 26.06.20 TD(7,2/1/1)-> TD(7,3/1/1)->PAR Einarbeitung P21.3 TD(7,4/1/1)->PAR gematik
TR-> TD(8,0/1/1)->PAR 1.6.0 TD(8,1/1/1)->PAR 30.06.20 TD(8,2/1/1)-> TD(8,3/1/1)->PAR Anpassungen gemäß Änderungsliste P22.1 und Scope-Themen aus Systemdesign R4.0.0 TD(8,4/1/1)->PAR gematik
TR-> TD(9,0/1/1)->PAR 1.7.0 TD(9,1/1/1)->PAR 12.11.20 TD(9,2/1/1)-> TD(9,3/1/1)->PAR Einarbeitung Scope-Themen, PDSG-Änderungen TD(9,4/1/1)->PAR gematik
TR-> TD(10,0/1/1)->PAR 1.8.0 TD(10,1/1/1)->PAR 19.02.21 TD(10,2/1/1)-> TD(10,3/1/1)->PAR Einarbeitung Änderungsliste P22.5 TD(10,4/1/1)->PAR gematik
TR-> TD(11,0/1/1)->PAR 1.9.0 TD(11,1/1/1)->PAR 02.06.21 TD(11,2/1/1)-> TD(11,3/1/1)->PAR Einarbeitung ePA_Maintenance_21.1 und Featurspezifikation gemF_ePA_stat_FdV TD(11,4/1/1)->PAR gematik
TR-> TD(12,0/1/1)->PAR 1.10.0 TD(12,1/1/1)->PAR 09.07.21 TD(12,2/1/1)-> TD(12,3/1/1)->PAR Einarbeitung Anpassung IOP-WS (ePA_Maintenance_21.2) TD(12,4/1/1)->PAR gematik
TR-> TD(13,0/1/1)->PAR 1.10.1 TD(13,1/1/1)->PAR 30.09.21 TD(13,2/1/1)-> TD(13,3/1/1)->PAR Einarbeitung ePA_Maintenance_21.3 TD(13,4/1/1)->PAR gematik
TR-> TD(14,0/1/1)->PAR 1.11.0 TD(14,1/1/1)->PAR 31.01.22 TD(14,2/1/1)-> TD(14,3/1/1)->PAR Einarbeitung ePA_Maintenance_21.4 und ePA_Maintenance_21.5 TD(14,4/1/1)->PAR gematik
TR-> TD(15,0/1/1)->PAR 1.11.1 TD(15,1/1/1)->PAR 31.03.22 TD(15,2/1/1)-> TD(15,3/1/1)->PAR Einarbeitung Änderungsliste ePA_Maintenance_22.1  TD(15,4/1/1)->PAR gematik
TR-> TD(16,0/1/1)->PAR 1.50.0 TD(16,1/1/1)->PAR 06.04.22 TD(16,2/1/1)-> TD(16,3/1/1)->PAR ePA-Stufe 2.5: gemF_ePA_DiGA_Anbindung, gemF_ePA_FDZ_Anbindung und  gemF_ePA_Gesundheitsportal TD(16,4/1/1)->PAR gematik
TR-> TD(17,0/1/1)->PAR 1.50.1 TD(17,1/1/1)->PAR 23.05.22 TD(17,2/1/1)-> TD(17,3/1/1)->PAR Einarbeitung Kommentierung TD(17,4/1/1)->PAR gematik
TR-> TD(18,0/1/1)->PAR 1.51.0 TD(18,1/1/1)->PAR 25.07.22 TD(18,2/1/1)-> TD(18,3/1/1)->PAR Änderungsliste ePA_Maintenance_22.2, redaktionell: diskriminierungsfreie Sprache (Black-/Whitelist in Deny-/Allowlist)  TD(18,4/1/1)->PAR gematik
PAR -HEADING(ids=Inhaltsverzeichnis)Inhaltsverzeichnis

PAR -HEADING(ids=1)1 Einordnung des Dokumentes
PAR -HEADING(ids=1.1)1.1 Zielsetzung
PAR Die vorliegende Spezifikation definiert die Anforderungen zu Herstellung, Test und Betrieb des Produkttyps ePA-Frontend des Versicherten.
PAR -HEADING(ids=1.2)1.2 Zielgruppe
PAR Das Dokument richtet sich an Hersteller von Produkten des Frontend des Versicherten sowie an Hersteller und Anbieter von weiteren Produkttypen der Fachanwendung ePA.
PAR -HEADING(ids=1.3)1.3 Geltungsbereich
PAR Dieses Dokument enthält normative Festlegungen zur Telematikinfrastruktur des deutschen Gesundheitswesens. Der Gültigkeitszeitraum der vorliegenden Version und deren Anwendung in Zulassungs- oder Abnahmeverfahren wird durch die gematik GmbH in gesonderten Dokumenten (z.B. Dokumentenlandkarte, Produkttypsteckbrief, Leistungsbeschreibung) festgelegt und bekannt gegeben.
PAR Schutzrechts-/Patentrechtshinweis
PAR Die nachfolgende Spezifikation ist von der gematik allein unter technischen Gesichtspunkten erstellt worden. Im Einzelfall kann nicht ausgeschlossen werden, dass die Implementierung der Spezifikation in technische Schutzrechte Dritter eingreift. Es ist allein Sache des Anbieters oder Herstellers, durch geeignete Maßnahmen dafür Sorge zu tragen, dass von ihm aufgrund der Spezifikation angebotene Produkte und/oder Leistungen nicht gegen Schutzrechte Dritter verstoßen und sich ggf. die erforderlichen Erlaubnisse/Lizenzen von den betroffenen Schutzrechtsinhabern einzuholen. Die gematik GmbH übernimmt insofern keinerlei Gewährleistungen.
PAR -HEADING(ids=1.4)1.4 Abgrenzungen
PAR Im Dokument wird spezifiziert, wie Schnittstellen benutzt werden, um fachliche Anwendungsfälle umzusetzen. Die Schnittstellen selbst werden in der Spezifikation desjenigen Produkttypen beschrieben, der die Schnittstelle bereitstellt. Auf die entsprechenden Dokumente wird referenziert (siehe auch Anhang 9.5).
PAR Die vollständige Anforderungslage für den Produkttyp ergibt sich aus weiteren Konzept- und Spezifikationsdokumenten. Diese sind in dem Produkttypsteckbrief des Produkttyps ePA-Frontend des Versicherten verzeichnet.
PAR -HEADING(ids=1.5)1.5 Methodik
PAR Anforderungen als Ausdruck normativer Festlegungen werden durch eine eindeutige ID sowie die dem RFC 2119 [RFC2119] entsprechenden, in Großbuchstaben geschriebenen deutschen Schlüsselworte MUSS, DARF NICHT, SOLL, SOLL NICHT, KANN gekennzeichnet.
PAR Sie werden im Dokument wie folgt dargestellt:<br><AFO-ID> - <Titel der Afo><br>Text / Beschreibung<br>[<=]
PAR Dabei umfasst die Anforderung sämtliche zwischen Afo-ID und der Textmarke [<=] angeführten Inhalte.
PAR Die Spezifikation der durch den Produkttyp genutzten Interfaces erfolgt in der Spezifikation des Produkttypen, welcher das Interface anbietet. Eine Übersicht befindet sich in Kapitel "".
PAR -HEADING(ids=2)2 Systemüberblick
PAR Das ePA-Frontend des Versicherten (FdV) ist eine Anwendung, welche die für die Nutzung der ePA notwendigen Funktionalitäten bündelt und dezentrale Fachlogik der Fachanwendung ePA ausführt. Das FdV ermöglicht es Versicherten, ePA-Anwendungsfälle auszuführen.
PAR Ausführungsumgebung des FdV ist ein Gerät des Versicherten (GdV), bspw. ein stationäres Gerät oder ein mobiles Endgerät. Es steht unter alleiniger Kontrolle des Versicherten. Dem Versicherten obliegt es, durch geeignete Maßnahmen die Sicherheit der Daten zu stärken.
PAR Das FdV kann zusätzliche Funktionalitäten anbieten, die nicht der Fachanwendung ePA zugeordnet werden und somit nicht der Regelungshoheit der gematik unterliegen.
PAR -HEADING(ids=3)3 Systemkontext
PAR -HEADING(ids=3.1)3.1 Akteure und Rollen
PAR Im Systemkontext des FdV interagieren verschiedene Akteure (aktive Komponenten) in unterschiedlichen Rollen mit dem FdV.
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_101 – Akteure und Rollen

TABLE(rows=6,cols=170+233+311)->
TR-> TH(0,0/1/1)->PAR Akteur TH(0,1/1/1)->PAR Rolle TH(0,2/1/1)->PAR Beschreibung
TR-> TD(1,0/1/1)->PAR Nutzer des FdV TD(1,1/1/1)->PAR Versicherter (als Aktenkontoinhaber) oder <br>Vertreter eines Versicherten TD(1,2/1/1)->PAR Primärer Anwender, Ausführen von fachlichen Anwendungsfällen mit Zugriff auf ein ePA-Aktensystem
TR-> TD(2,0/1/1)->PAR Ausführungsumgebung TD(2,1/1/1)->PAR Gerät des Versicherten TD(2,2/1/1)->PAR Betriebs-/Ablaufumgebung des FdV
TR-> TD(3,0/1/1)->PAR Kartenleser TD(3,1/1/1)->PAR Gerät des Versicherten TD(3,2/1/1)->PAR Ermöglicht dem ePA-Frontend des Versicherten den Zugriff auf die eGK des Nutzers. Es kann die kontaktbehaftete oder die kontaktlose Schnittstelle der eGK genutzt werden.
TR-> TD(4,0/1/1)->PAR Anbieter ePA-Aktensystem TD(4,1/1/1)->PAR Organisatorisch, kein Akteur in der Ausführung von ePA-Anwendungsfällen TD(4,2/1/1)->PAR Der Anbieter stellt Informationen bereit, um sich via FdV am ePA-Aktensystem anzumelden.
TR-> TD(5,0/1/1)->PAR Hersteller ePA-Frontend des Versicherten TD(5,1/1/1)->PAR Organisatorisch, kein Akteur in der Ausführung von ePA-Anwendungsfällen TD(5,2/1/1)->PAR Der Hersteller FdV stellt im Handbuch Informationen bereit bezüglich<br>        Anforderungen an die Ausführungsumgebung       Möglichkeiten zur Anbindung der eGK  Der Hersteller FdV erfüllt sicherheitstechnische Anforderungen zum Herstellungsprozess.
PAR -HEADING(ids=3.2)3.2 Nachbarsysteme
PAR Die vom FdV direkt erreichbaren Produkttypen der TI sind

LIST->
LITEM->PAR ePA-Aktensystem,LITEM->PAR Signaturdienst undLITEM->PAR eGK (G2 und höher).

PAR Abbildung #: Systemüberblick FdV
PAR Der Signaturdienst bietet die Schnittstelle I_Remote_Sign_Operations für Signaturen mittels der alternativen kryptographischen Versichertenidentität an. Siehe [gemSpec_SigD].
PAR In TAB_FdV_102 sind die Schnittstellen des ePA-Aktensystems gelistet, welche durch das ePA-Frontend des Versicherten genutzt werden.
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_102 – Schnittstellen des ePA-Aktensystems

TABLE(rows=11,cols=194+194+241)->
TR-> TH(0,0/1/1)->PAR Schnittstelle TH(0,1/1/1)->PAR Operationen TH(0,2/1/1)->PAR Bemerkung
TR-> TD(1,0/1/1)->PAR I_Authentication_Insurant TD(1,1/1/1)->PAR getAuditEvents<br>LoginCreateChallenge<br>LoginCreateToken<br>LogoutToken<br>RenewToken TD(1,2/1/1)->PAR Definition in [gemSpec_Authentisierung_Vers]
TR-> TD(2,0/1/1)->PAR I_Authorization_Insurant TD(2,1/1/1)->PAR getAuthorizationKey TD(2,2/1/1)->PAR Definition in [gemSpec_Autorisierung]
TR-> TD(3,0/1/1)->PAR I_Authorization_Management_Insurant TD(3,1/1/1)->PAR deleteAuthorizationKey<br>getAuditEvents<br>getAuthorizationList<br>putAuthorizationKey<br>putNotificationInfo<br>getNotificationInfo<br>replaceAuthorizationKey TD(3,2/1/1)->PAR Definition in [gemSpec_Autorisierung]
TR-> TD(4,0/1/1)->PAR I_Account_Management_Insurant TD(4,1/1/1)->PAR GetAuditEvents<br>SuspendAccount<br>ResumeAccount TD(4,2/1/1)->PAR Definition in [gemSpec_Dokumentenverwaltung]
TR-> TD(5,0/1/1)->PAR I_Proxy_Directory_Query TD(5,1/1/1)->PAR Search TD(5,2/1/1)->PAR Definition in [gemSpec_Zugangsgateway_Vers]
TR-> TD(6,0/1/1)->PAR I_Document_Management_Connect TD(6,1/1/1)->PAR CloseContext<br>OpenContext TD(6,2/1/1)->PAR Definition in [gemSpec_Dokumentenverwaltung]
TR-> TD(7,0/1/1)->PAR I_Document_Management_Insurant TD(7,1/1/1)->PAR ProvideAndRegisterDocumentSet-b<br>RegistryStoredQuery<br>RemoveMetadata<br>RetrieveDocumentSet<br>RestrictedUpdateDocumentSet TD(7,2/1/1)->PAR Definition in [gemSpec_Dokumentenverwaltung]
TR-> TD(8,0/1/1)->PAR Status-Proxy TD(8,1/1/1)-> TD(8,2/1/1)->PAR Definition in [gemSpec_Zugangsgateway_Vers]
TR-> TD(9,0/1/1)->PAR TSL-Proxy TD(9,1/1/1)-> TD(9,2/1/1)->PAR Definition in [gemSpec_Zugangsgateway_Vers]
TR-> TD(10,0/1/1)->PAR Schlüsselgenerierungsdienst Typ 1 und Typ 2 TD(10,1/1/1)-> TD(10,2/1/1)->PAR Definition in [gemSpec_SGD_ePA]
PAR Für die Authentisierung mittels eGK und kryptographischer Operationen greift das ePA-Frontend des Versicherten über ein Kartenlesegerät oder über die kontaktlose Schnittstelle auf die eGK zu.
PAR -HEADING(ids=3.2.1)3.2.1 Identität des Nutzers
PAR Ein Versicherter kann als Nutzer des FdV das auf der eGK verfügbare Schlüsselmaterial und Zertifikate für die Authentisierung gegenüber dem ePA-Aktensystem und dem Schlüsselgenerierungsdienst verwenden.
PAR Voraussetzung ist die Nutzung einer eGK G2 oder höher, wobei eine eGK G2 nur den RSA-2048-Algorithmenkatalog unterstützt. Eine eGK G2.1 unterstützt den RSA-2048 und ECC-256-Algorithmenkatalog. Die normierenden Organisationen haben das Ende der Zulässigkeit für den RSA-2048 festgelegt. Aus diesem Grund wird bei Nutzung einer eGK G2 der RSA-Algorithmenkatalog und bei eGK einer höheren Generation (d.h. ab eGK G2.1) der ECC-Algorithmenkatalog verwendet.
PAR Zusätzlich zur eGK sieht das FdV die Möglichkeit der Nutzung einer alternativen Authentisierung vor. Sie muss bei der Krankenkasse des Nutzers beantragt werden. Die Authentisierung beim ePA-Aktensystem erfolgt unter Einbeziehung eines Signaturdienstes.
PAR Für die Zertifikate der alternativen Authentisierung wird der ECC-Algorithmenkatalog verwendet.
PAR -HEADING(ids=4)4 Zerlegung des Produkttyps
PAR Im Folgenden wird die Zerlegung des Produkttyps ePA-Frontend des Versicherten dargestellt, welche für die Übersicht der funktionalen Leistungsmerkmale in der vorliegenden Spezifikation nötig ist.

PAR Abbildung #: Komponenten ePA-Frontend des Versicherten
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_167 – Komponenten des FdV

TABLE(rows=3,cols=140+474+100)->
TR-> TH(0,0/1/1)->PAR Komponente TH(0,1/1/1)->PAR Verantwortung und Funktionalität TH(0,2/1/1)->PAR Spezifiziert in
TR-> TD(1,0/1/1)->PAR Fachlogik TD(1,1/1/1)->PAR Die Komponente steuert die Anwendungsfälle entsprechend den fachanwendungsspezifischen Festlegungen. TD(1,2/1/1)->PAR Kap. 6.2
TR-> TD(2,0/1/1)->PAR Plattformbausteine TD(2,1/1/1)->PAR Diese Komponente enthält Plattformbausteine, welche Funktionalitäten der TI-Plattform zur Verfügung stellen:<br> Zugriff auf die eGK für kryptografische Operationen, PIN-Management, ...       Kryptografische Operationen Die Plattformbausteine werden durch die Fachlogik angesteuert. TD(2,2/1/1)->PAR Kap. 6.3
PAR Das für die Nutzung des ePA-Frontend des Versicherten notwendige GUI ist Teil des FdV und wird nicht normativ durch die Spezifikation des FdV vorgegeben.
PAR Das FdV kann zusätzliche Funktionen beinhalten, bspw. kassenspezifische Funktionen, welche Schnittstellen zu kassenspezifischen Diensten außerhalb der TI nutzen.
PAR Das ePA-Frontend des Versicherten besitzt eine produktspezifische anwendungsinterne Schnittstelle, welche durch das GUI oder die zusätzlichen Funktionalitäten der integrierenden Anwendung genutzt werden kann, um ePA-Anwendungsfälle auszuführen.
PAR -HEADING(ids=5)5 Übergreifende Festlegungen
PAR Das ehemalige ePA-Modul FdV wurde als eigenständiges Objekt der Produktzulassung vollständig abgelöst vom ePA-Frontend des Versicherten (also der Gesamt-App). Das sollte durch die Verfahrensbeschreibung und den Aufbau sowie die Bezeichnung des Produkttypsteckbriefs eindeutig und normativ dargestellt sein. Das heißt, prinzipiell richten sich alle Anforderungen des Produkttypsteckbriefs an die gesamte ePA-App bzw. an deren Entwicklungsprozess. Der Nachweis zur Erfüllung der Anforderungen erfolgt dabei im Einzelnen folgendermaßen:

LIST->
LITEM->PAR  Die Menge der Anforderungen zur funktionalen Eignung, deren Erfüllung im Produkttest bzw. Produktübergreifenden Test nachzuweisen ist, entspricht weitgehend der die ursprünglich dem ehemaligen ePA-Modul zugeordnet war. Es handelt sich um die Vorgaben an die Funktionalität für den Zugriff auf die ePA (die Komponenten der TI). Der Test erfolgt, unverändert zum bisher geplanten Vorgehen, unter Einsatz des AKTORs und der Testtreiberschnittstelle.LITEM->PAR Die Menge der Anforderungen zur funktionalen Eignung, deren Erfüllung durch Herstellererklärung zu belegen ist, umfasst nunmehr auch Anforderungen, die bisher nur mittelbar durch das Verfahren der Bestätigung der Entwicklungsprozesse an die gesamte App gestellt wurden. Dabei handelt es sich beispielsweise um elementare Anforderungen an die Nutzerinteraktion (Anzeige etc.), die nicht unter Nutzung des AKTORs geprüft werden können/sollen.LITEM->PAR Die Anforderungen der sicherheitstechnischen Eignung, deren Erfüllung im Produktgutachten bzw. in der CC-Evaluierung nachzuweisen ist, richten sich an die gesamte App – der Betrachtungsgegenstand der Prüfung ist die gesamte App einschließlich der von der gematik nicht spezifizierten Funktionalität.LITEM->PAR Die Herstellererklärung zur sicherheitstechnischen Eignung bezieht sich auf die Erfüllung von Anforderungen an die gesamte App.LITEM->PAR Die Anforderungen zur Sicherheitsbegutachtung entsprechen denen, die nach dem bisherigen Verfahren in der Bestätigung der sicheren Entwicklungsprozesse des Herstellers nachgewiesen wurden. 
PAR Die Gesamtmenge der Anforderungen, die sich aus der Zusammenführung der Produktzulassung und der Bestätigung der Entwicklungsprozesse des Herstellers ergibt, ist im Wesentlichen unverändert geblieben. 
PAR Die Darstellung in der Systemlösung hat keinen normativen Charakter, was den Schnitt der Zulassungsobjekte und deren inneren Aufbau betrifft.
PAR -HEADING(ids=5.1)5.1 Datenschutz und Sicherheit
PAR In diesem Kapitel werden übergreifende Anforderungen beschrieben, die sich aus den Themenfeldern Datenschutz und Sicherheit ergeben.

PAR Hinweis: Der auszuführende Code für die ePA-Funktionen des ePA-FdV muss lokal vorliegen und ausgeführt werden, so dass insbesondere alle ePA-Daten (medizinische Daten, sicherheitskritische Daten wie Schlüssel) ausschließlich lokal verarbeitet werden. Zudem erschwert es Administratoren von Servern, auf denen der Code liegen könnte, den Code zu manipulieren.
PAR Dies bedeutet insbesondere, dass eine Auslagerung von ePA-Funktionen auf Webserver nicht erlaubt ist. Dies verhindert jedoch nicht, das ePA-FdV mithilfe von Webtechnologien umzusetzen, um eine Plattformunabhängigkeit zu erreichen. Mithilfe des Frameworks Electron können beispielsweise in HTML, CSS und JavaScript entwickelte Anwendungen lokal unabhängig vom verwendeten Betriebssystem (Windows, MacOS, Linux) ausgeführt werden. Electron bietet auch die Möglichkeit der Nutzung von WebAssembly.

PAR Die Annahmen und Anforderungen sollen insbesondere Hinweise enthalten, mit welchen Maßnahmen der Nutzer seine Ausführungsumgebung sicher gestalten kann.

PAR Die medizinischen Dokumente im ePA-Aktensystem sind Ende-zu-Ende verschlüsselt. Dadurch können die Dokumente nicht an zentraler Stelle auf mögliche Schadsoftware geprüft werden. Eine Absicherung gegen mögliche Schadsoftware muss auf dem GdV erfolgen.


PAR Hinweis: Die Anforderung A_20211-* und A_21354 legen die Bedingungen für die persistente Speicherung von Authentisierungsmerkmalen fest.

PAR Der Umfang der Session-Daten ist im Kapitel "" beschrieben. Die für den Versicherten im Aktenkonto bereitgestellten Dokumente gehören nicht zu den Session-Daten.




PAR Hinweis: Dies ist die analoge Anforderung zu A_20211-* bei mobilen Endgeräten.
PAR Hinweis: Eine explizite Authentifizierung des Versicherten durch das ePA-FdV wird empfohlen.

PAR Hinweis: Für die Authentifizierung des Nutzers am ePA-FdV können die Authentifizierungsfunktionen des Betriebssystems des Endgerätes (z.B. Logscreen-Credentials, Biometrie) genutzt werden. Bei der Authentifizierung der oberen Anforderung ist nicht die Anmeldung an Backendsystemen (z.B. ePA-Aktensystem) gemeint, sondern die Authentifizierung am ePA-Frontend des Versicherten.


PAR Dies betrifft bspw. die folgenden Aspekte:

LIST->
LITEM->PAR Schutz von Reverse EngineeringLITEM->PAR Verwendung von Plattform Sicherheit Best PracticeLITEM->PAR Secure Data StorageLITEM->PAR Schutz gegen code tamperingLITEM->PAR Extraneous functionality
PAR Für mobile Anwendungen sind OWASP Top Ten Mobile Controls [OWASP TTMC] und OWASP MASVS – L2 + R [OWASP MASVS] zu beachten. Anforderung A_15255-01 ist sowohl für Lösungen auf mobilen als auch Desktop-Plattformen umzusetzen.
PAR Die im Aktenkonto eingestellten Dokumente werden verschlüsselt an das Aktensystem übermittelt und verarbeitet. Sie liegen im Aktensystem nie im Klartext vor. Daher kann das ePA-Aktensystem den Inhalt der Dokumente nicht auf Schadsoftware überprüfen.

PAR Folgende Maßnahmen sind sinnvoll:

LIST->
LITEM->PAR Prüfen, ob Dokumenten-Format und Inhalt mit dem angegebenen Dokumententyp in den Metadaten übereinstimmtLITEM->PAR Prüfen, ob Dokumenten-Format und Inhalt zu den erlaubten ePA-Dokumentenformaten passtLITEM->PAR Vor der Anzeige eines Dokumentes sind Sonder- und Meta-Zeichen im Dokument für die jeweilige Anzeigesoftware mit der richtigen Escape-Syntax zu entschärfen.LITEM->PAR Die Anzeigesoftware ist in einer Art Sandbox zu betreiben.

PAR Im Folgenden wird unter Tracking Usability-Tracking sowie Crash-Reporting verstanden.

PAR Hinweis: Sicherheitsmerkmale sind die Gerätekennung (DeviceID) und Session-Daten wie z.B. geheime oder private Schlüssel, Authentifizierungs- oder Autorisierungsbestätigungen.


PAR Hinweis: Personenbezogene Daten mit direktem Personenbezug sind bspw. Namen von natürlichen Personen, Geräte-IDs, Nutzerkennungen oder ein „Fingerabdruck“ auf Basis von Geräteeigenschaften und Einstellungen.
PAR Tracking Anforderungen für Trackingdaten ohne Einwilligung

PAR Hinweis: Andere Quellen sind z.B. Webtracker, Tracker von anderen Apps oder Trackingmerkmale des Betriebssystems (z.B. Hardware IDs, Network IDs oder Advertising IDs).  

PAR Hinweis: Diese Anforderung ist nicht durch einen alleinigen Verweis auf die AGB oder Nutzungsbedingungen des FdVs erfüllbar. Verständliche Form bedeutet eine kurze nicht juristische Erklärung zum Zweck des Trackings. Leicht zugängliche Form bedeutet direkt im FdV.

PAR Anforderungen zur Einwilligung zum Session-übergreifenden Tracking


PAR Hinweis: Das FdV muss voll-funktional ohne aktiviertes Tracking nutzbar sein.

PAR Hinweis: Diese Anforderung ist nicht durch einen alleinigen Verweis auf die AGB oder Nutzungsbedingungen des FdVs erfüllbar. Verständliche Form bedeutet eine kurze nicht juristische Erklärung zum Zweck des Trackings. Leicht zugängliche Form bedeutet direkt im FdV.




PAR Hinweis: Wenn der Benutzer seine Einwilligung zum Tracking nicht erteilt, darf das FdV den Nutzer nicht solange nach seiner Einwilligung fragen, bis der Nutzer diese erteilt.

PAR Wenn die eGK zur Verfügung steht, dann kann diese für das Erzeugen von Schlüsseln in der geforderten Qualität (Kartenkommando GET RANDOM) genutzt werden. Ist das optionale Kartenkommando GET RANDOM für die eGK nicht verfügbar (Fehlermeldung der Karte), dann kann das Kartenkommando GET CHALLENGE (PL_TUC_GET_CHALLENGE) der eGK genutzt werden. GET RANDOM und GET CHALLENGE liefern einen ausreichend guten Zufall, der die Forderungen aus [gemSpec_Krypt#GS-A_4368] erfüllt.
PAR Wenn die eGK nicht zur Verfügung steht, dann können Informationen von zusätzliche Quellen (Internet, Sensoren des GdV) zusammengeführt werden, um die geforderte Entropie zu erreichen.


PAR Bspw. ist ein Opt-In anstelle eines Opt-Out-Verfahrens anzuwenden.

PAR Hinweis:  Beispielmaßnahmen sind in [OWASP Proactive Control#C2] zu finden. Das gewählte Verfahren muss die gleiche Wirksamkeit aufweisen, wie die Kapselung gemäß [OWASP Proactive Control#C2 Punkt 4].
PAR Das ePA-Frontend des Versicherten bietet nur Funktionalitäten an, welche sich aus den Anwendungsfällen der Fachanwendung ePA ergeben. 
PAR Zusätzliche Funktionalitäten können durch das FdV angeboten werden. Folgende Anforderungen gelten für die Abgrenzung der zusätzlichen Funktionalitäten zu denen der Fachanwendung ePA.

PAR Die Information, welche Funktionalitäten zusätzlich zu den Funktionen für die ePA enthalten und damit nicht Gegenstand der Zulassung durch die gematik sind, kann im Handbuch oder den Informationen zur Zustimmung gemäß A_16439 beschrieben werden.



PAR Die in A_16439 geforderte Zustimmung kann einmalig durch den Versicherten erteilt werden und bis auf Widerruf des Versicherten für alle Datenweiterleitungen, die von dem Versicherten veranlasst werden, gelten. Das FdV kann dabei die Möglichkeit einer expliziten Opt-in-Lösung mit Widerrufsrecht oder ein anlassbezogenes Zustimmungsverfahren oder eine Wahlmöglichkeit beider Verfahren vorsehen.

PAR Hinweis: Die A_20721 setzt die Forderung des § 345 Abs. 1 SGB V um. Die Einwilligung gegenüber der Krankenkasse kann elektronisch erfolgen. Dies betrifft insbesondere auch die Übermittlung des Nachweises, mit dem die Krankenkasse die Einwilligung des Versicherten in die Verarbeitung der Daten nachweisen kann (vgl. Art. 7 Abs. 1 DSGVO).




PAR Hinweis: Im Gegensatz zu Betriebssystem für Smartphones und Tablets wie etwa Android und iOS sind Betriebssysteme für stationäre Geräte wie etwa PCs durchaus im öffentlichen Raum verfügbar. So läuft etwa auf den meisten Geräten in Internet-Cafes Windows. Würde hier das ePA-FdV ausgeführt werden und der Versicherte sich Dokumente aus seiner Akte herunterladen, dann müsste der Versicherte dafür sorgen, dass keine Daten von ihm auf der Hardware verbleiben, wenn er den Zugriff auf die Hardware beendet. Es wird empfohlen, die Nutzung des ePA-FdV auf öffentlich zugänglicher Hardware zu unterlassen.
PAR Hinweis: Die einmalige Anzeige des Hinweises mit Bestätigung pro Versicherten ist ausreichend. Es muss dabei sichergestellt sein, dass jedem Nutzer (Mehrbenutzerbetrieb) dieser Hinweis zur Bestätigung angezeigt wird. Dieses könnte etwa durch Anzeige vor der Authentisierung gegenüber dem ePA-FdV erfolgen.

PAR Hinweis: Die Anforderung soll das Einschleusen von Schadcode verhindern. Dies kann beispielsweise durch Signieren des ePA-FdV durch den Hersteller erfolgen, um Manipulationen am ePA-FdV vor der Ausführung erkennen zu können. Das Verbot des dynamischen Nachladens von ungeprüftem Code soll insbesondere auch sicherstellen, dass zum Zeitpunkt der Prüfung des ePA-FdV durch den Produktgutachter der gesamte Anwendungscode vorliegt und dieser nicht später durch ungeprüften Code ersetzt bzw. ergänzt werden kann.
PAR Im Zulassungsverfahren für das ePA-FdV ist festgelegt, wann Änderungen durch die gematik als zulassungsrelevant betrachtet werden. Zulassungsrelevante Änderungen sind z.B. Änderungen von Sicherheitsfunktionen oder deren Implementierung (z.B. Wechsel der TLS-Implementierung). Nicht-zulassungsrelevante Änderungen sind z.B. Sicherheitsupdates für von anderen Herstellern bezogenen Software-Komponenten der Plattform (z.B. Bibliotheken), die aus einer vertrauenswürdigen Quelle bezogen werden.




PAR Hinweis: Nach A_20746 muss sich der Nutzer beim Starten des ePA-FdV am ePA-FdV authentisieren.

PAR Hinweis: Krankenkassen (als Anbieter eines ePA-Aktensystems) können zur Umsetzung dieser Anforderung z.B. den Versicherten hierzu entsprechendes Informationsmaterial zur Verfügung stellen, wo die Download-Punkte aufgelistet sind.

PAR Hinweis: Beim Erstbezug des ePA-FdV kann die Prüfung der Authentizität der Quelle noch nicht durch das ePA-FdV selbst erfolgen. Dies kann z.B. über eine TLS-Server-Authentifizierung der Bezugsquelle erreicht werden. Bei ePA-FdVs in den Stores der mobilen Plattformen kann der Versicherte die Vertrauenswürdigkeit daran erkennen, dass er den offiziellen Store nutzt. Auch unter Windows und Mac OS und Linux/Debian gibt es einen offiziellen Store.


PAR Hinweis: Die Zustimmung kann einmal eingeholt werden und muss nicht bei jedem Zugriff wiederholt erfolgen.







PAR -HEADING(ids=5.1.1)5.1.1 Anforderungen zum Herstellungsprozess



PAR Hinweis: Das Sicherheitskonzept soll zwingend die folgenden Punkte umfassen: 

LIST->
LITEM->PAR Beschreibung des ePA-Frontends des Versicherten und Einbindung zusätzlicher Funktionalitäten vom Hersteller bzgl. allgemeiner Informationssicherheitsaspekte und Sicherheitsanforderungen der  gematik, LITEM->PAR Schutzbedarfsfeststellung,LITEM->PAR Bedrohungsanalyse,LITEM->PAR Sicherheitsanalyse (Verifikation der Wirksamkeit der Sicherheitsmaßnahmen), LITEM->PAR Erstellung einer Restrisikoabschätzung. 
PAR Hinweis: Das Datenschutzkonzept soll zwingend die folgenden Punkte umfassen: 

LIST->
LITEM->PAR Beschreibung des ePA-Frontends des Versicherten (inklusiv zusätzliche Funktionalität vom Hersteller) bzgl. DatenschutzaspekteLITEM->PAR Identifikation der Randbedingungen des DatenschutzesLITEM->PAR Identifikation der personenbezogenen Daten und AnwendungsprozesseLITEM->PAR Umsetzung der Grundsätze für die Verarbeitung personenbezogener Daten - Datenschutz-Risiken und Datenschutz-Hinweise

PAR Hinweis: Der Testplan umfasst alle Sicherheitstests während den Phasen der Produktentwicklung sowie regelmäßige Sicherheitsprüfungen (Pentest) durch unabhängige Sicherheitsexperten. Der Umfang des Testplans hängt von der Zielplattform <br>sowie den Funktionalitäten des ePA-Frontends des Versicherten ab und muss zwingend das Testvorgehen zu den Sicherheitsvorgaben der gematik beinhalten.
PAR Orientierungen zu den Inhalten eines Testplanes sind im OWASP Mobile Security Testing Guide [MSTG] und im OWASP Mobile Application Security Verification Standard [MASVS] beschrieben. Der Testplan muss einen ähnlichen Detaillierungsgrad <br>haben, wie in den beiden OWASP-Referenzen.

PAR Hinweis: Der Testbericht muss zwingend Testauswertungen zu den Sicherheitsvorgaben der gematik beinhalten.


PAR Ein Beispiel für Sicherheitsaktivitäten in einem Produktlebenszyklus ist der Microsoft Security Development Lifecycle. Für weitere Informationen siehe [OWASP SAMM Project] oder den durch das BSI bereitgestellte "Leitfaden zur Entwicklung sicherer Webanwendungen - Empfehlungen und Anforderungen an die Auftragnehmer" (insbesondere Kapitel 4). Als ein Hilfsmittel bietet die gematik eine informative SDL Orientierungshilfe an, die Hersteller sowie Sicherheitsgutachter unterstützt, um einen SDL zu etablieren oder zu Prüfen.









PAR Falls es keinen Datenschutzbeauftragten bei dem Hersteller gibt, kann eine alternative Rolle die sicherheitstechnische Eignung verifizieren z.B. der Sicherheitsbeauftragte. Diese Rolle darf nicht in der Entwicklung des Produktes teilnehmen und muss direkt an die Geschäftsführung des Herstellers berichten.

PAR -HEADING(ids=5.1.2)5.1.2 Unterstützung von Audits
PAR Die gematik kann für die Überprüfung der Umsetzung der Anforderungen zur sicherheitstechnischen Eignung Audits beim ePA- FdV durchführen. Für die Hersteller gelten Mitwirkungspflichten.


PAR Hinweis: Unterstützen bedeutet beispielsweise das Bereitstellen einer Release oder Beta-Version des Produkts, das Bereitstellen eines Testsystems inkl. Test Accounts, kleine Anpassungen des Produktes, die eine Beschleunigung des Tests ermöglichen (z.B. Entfernung von Certificate Pinning, Code Obfuscation) und Unterstützung bei Rückfragen.

PAR -HEADING(ids=5.2)5.2 Verwendete Standards
PAR Für die Nutzung der Schnittstellen werden u.a. die folgenden Standards verwendet.



PAR Informationen zu DMSLv2 sind unter https://www.oasis-open.org/standards#dsmlv2https://www.oasis-open.org/standards#dsmlv2 verfügbar.
PAR -HEADING(ids=5.3)5.3 Integrating the Healthcare Enterprise IHE
PAR Die dokumentenbezogenen Schnittstellen des ePA-Aktensystems und die Verarbeitungslogik des ePA-Frontend des Versicherten basieren auf Transaktionen des IHE ITI Technical Frameworks (IHE ITI TF). Die IHE ITI-Implementierungsstrategie ist in [gemSpec_DM_ePA] beschrieben.
PAR Das ePA-Frontend des Versicherten nutzt die folgenden Integrationsprofile des IHE ITI TF:

LIST->
LITEM->PAR Cross-Enterprise Document Sharing (XDS.b) ProfileLITEM->PAR Remove Metadata and Documents (RMD) ProfileLITEM->PAR Cross-Enterprise User Assertion (XUA) ProfileLITEM->PAR Advanced Patient Privacy Consents (APPC) Profile
PAR Die folgende Tabelle bietet einen Überblick über die durch das ePA-Frontend des Versicherten umzusetzenden IHE ITI-Akteure und assoziierte Transaktionen. Siehe auch [gemSpec_DM_ePA#Abbildung Überblick über IHE ITI-Akteure und assoziierte Transaktionen].
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_103 – IHE Akteure und Transaktionen

TABLE(rows=8,cols=183+46+143+209+117)->
TR-> TH(0,0/1/1)->PAR Aktion TH(0,1/1/1)->PAR  Profile TH(0,2/1/1)->PAR IHE-Akteur TH(0,3/1/1)->PAR Transaktion TH(0,4/1/1)->PAR Referenz
TR-> TD(1,0/1/1)->PAR Suchanfrage auf Metadaten TD(1,1/1/1)->PAR XDS.b TD(1,2/1/1)->PAR Document Consumer TD(1,3/1/1)->PAR Registry Stored Query [ITI-18] TD(1,4/1/1)->PAR [IHE-ITI-TF2a]#3.18
TR-> TD(2,0/1/1)->PAR Herunterladen von Dokumenten TD(2,1/1/1)->PAR XDS.b TD(2,2/1/1)->PAR Document Consumer TD(2,3/1/1)->PAR Retrieve Document Set [ITI-43] TD(2,4/1/1)->PAR [IHE-ITI-TF2b]#3.43
TR-> TD(3,0/1/1)->PAR Einstellen von Dokumenten TD(3,1/1/1)->PAR XDS.b TD(3,2/1/1)->PAR Document Source TD(3,3/1/1)->PAR Provide & Register Document Set-b [ITI-41] TD(3,4/1/1)->PAR [IHE-ITI-TF2b]#3.41
TR-> TD(4,0/1/1)->PAR Löschen von Dokumenten TD(4,1/1/1)->PAR RMD TD(4,2/1/1)->PAR Document Administrator TD(4,3/1/1)->PAR Remove Metadata [ITI-62] TD(4,4/1/1)->PAR [IHE-ITI-RMD]#3.62 
TR-> TD(5,0/1/1)->PAR AuthenticationAssertion übertragen TD(5,1/1/1)->PAR XUA TD(5,2/1/1)->PAR X-Service User TD(5,3/1/1)->PAR Provide X-User Assertion [ITI-40] TD(5,4/1/1)->PAR [IHE-ITI-TF2b]#3.40
TR-> TD(6,0/1/1)->PAR Policy Document erstellen TD(6,1/1/1)->PAR APPC TD(6,2/1/1)->PAR APPC Content Creator TD(6,3/1/1)->PAR - TD(6,4/1/1)->PAR [IHE-ITI-APPC]
TR-> TD(7,0/1/1)->PAR Interpretieren von Policy Documents TD(7,1/1/1)->PAR APPC TD(7,2/1/1)->PAR APPC Content Consumer TD(7,3/1/1)->PAR - TD(7,4/1/1)->PAR [IHE-ITI-APPC]
PAR XDS-Option „Document Replacement“ - Ersetzen eines existierenden Dokuments
PAR Ein eingestelltes Dokument kann auch ein existierendes Dokument ersetzen. Dies erfolgt durch Verwendung der „Document Replacement“-Option (XDS.b Document Source). Dazu wird das gleiche Dokument (mit geändertem Inhalt und nebst ggf. geänderten DocumentEntry-Metadaten) erneut hochgeladen. Das neue Dokument erhält den Status „Approved“. Das alte Dokument geht in den Status „Deprecated“.  Beide Dokumente werden über eine „Replace“-Association miteinander verbunden, sodass nach dem Einstellen erkennbar ist, dass das neue Dokument das alte ersetzt. Lädt man erneut eine neue Fassung hoch, erhält man zwei Dokumente im Status "Deprecated" und das neueste im Status "Approved".<br>Alle alten Dokumente (Status "Deprecated") können nach wie vor gefunden und heruntergeladen werden. Einige Suchen erlauben das Filtern nach Status bzw. zeigen per Default auch nur Dokumente im Status „Approved“ an.
PAR Eingestellt (im "Submission Set") wird zum einen das neue Dokument inkl. Metadaten und zum anderen eine Association vom Typ urn:ihe:iti:2007:AssociationType:RPLC, die auf das neue Dokument und das zu ersetzende, bestehende Dokument verweist und so die "Replace"-Beziehung herstellt.
PAR XDS-Option "Folder Management" - Verwendung von Ordnern
PAR Ordner können durch die Option "Folder Management" (XDS.b Document Source) verwendet werden. Bei der kategorienbasierten Berechtigungsverwaltung werden vom Aktensystem definierte Ordner genutzt. Nur für dynamische Dokumentensammlungen (z. B. Kinderuntersuchungsheft und Mutterpass) werden Ordner durch Primärsysteme erstellt und vom Frontend ggf. ausgewertet. Durch die Assoziation eines Dokumentes zu einem dieser Ordner wird das Dokument dem Ordner der entsprechenden Dokumentenkategorie bzw. Dokumentensammlung zugeordnet.
PAR Die XDS-Option "Folder Management" ist nur für den geschilderten Verwendungszweck zugelassen; ein selbständiges Anlegen oder Bearbeiten von Ordnern und ihrer Metadaten ist durch das FdV nicht möglich. Das Entfernen von Dokumenten aus einem Ordner durch Löschen der entsprechenden Assoziation ist nicht vorgesehen, da dies die direkte Zuordnung gemäß einer Zugriffsunterbindungsregel verletzten könnte.
PAR Weitere Festlegungen
PAR Weitere übergreifenden Einschränkungen von IHE ITI-Transaktionen sowie Festlegungen spezieller Umsetzungsvorgaben bzgl. einzelner Transaktionen sind in [gemSpec_DM_ePA] und [gemSpec_Dokumentenverwaltung] beschrieben.
PAR Wenn im Rahmen der IHE Interface-Beschreibung der Begriff "Patient" verwendet wird, ist im Rahmen der vorliegenden Spezifikation darunter der Aktenkontoinhaber zu verstehen.
PAR Im ePA-Frontend des Versicherten werden fachliche Dokumente (Versichertendokumente) und technische Dokumente (Policy Documents) unterschieden.
PAR -HEADING(ids=5.3.1)5.3.1 Policy Documents
PAR Die Fachanwendung ePA verwendet das APPC-Profil für die Durchsetzung von Zugriffsregeln (Autorisierung) auf Dokumente. Die Zugriffsregeln werden gemäß APPC in Policy Documents beschrieben und als technische Dokumente im Aktenkonto des Versicherten hinterlegt.
PAR Für jeden Vertreter, jede berechtigte Leistungserbringerinstitution (LEI), den berechtigten Kostenträger (KTR) und jede berechtigte Digitale Gesundheitsanwendung (DiGA) wird je ein Policy Document im Aktenkonto verwaltet.
PAR Bei der Neuvergabe einer Berechtigung für Vertreter, LEI, DiGA oder KTR erstellt das ePA-Frontend des Versicherten ein neues Policy Document und lädt es in das Aktenkonto hoch. Bei der Änderung einer Berechtigung (bspw. Verlängerung der Berechtigungsdauer) lädt das ePA-Frontend des Versicherten das Policy Document aus der ePA-Dokumentenverwaltung herunter (IHE-Akteur Content Consumer), bearbeitet es und lädt die veränderte Fassung als neu zu registrierendes Policy Document in die ePA-Dokumentenverwaltung hoch (IHE APPC-Akteur Content Creator). Beim Hochladen einer veränderten Version eines Policy Document wird die vorherige Version infolge des Hochladens des neuen Policy Document automatisch durch die ePA-Dokumentenverwaltung gelöscht. Beim Entzug einer Berechtigung löscht das ePA-Frontend des Versicherten das entsprechende Policy Document aus der ePA-Dokumentenverwaltung. 
PAR Die ePA-Dokumentenverwaltung wertet die in den Policy Documents hinterlegten Zugriffsregeln aus. Es entscheidet unter Berücksichtigung der Dokumentenmetadaten, ob der anfragende Nutzer den Dokumentenzugriff (bspw. Einstellen von Dokumenten) durchführen darf oder ob der Dokumentenzugriff ablehnt wird. Das ePA-Frontend des Versicherten verarbeitet Policy Documents nur intern.

PAR Für die XDS-Metadaten eines Policy Documents gelten die Nutzungsvorgaben aus [gemSpec_DM_ePA#A_14961-*].




PAR -HEADING(ids=5.4)5.4 Benutzeroberfläche
PAR Die Benutzeroberfläche, welche durch den Versicherten genutzt wird, um ePA-Anwendungsfälle auszuführen, ist Teil des FdV.
PAR Die folgenden Ausführungen zu Anforderungen an die visuelle Darstellung und Benutzerführung sind informativ und nicht normativ.
PAR -HEADING(ids=5.4.1)5.4.1 Visuelle Darstellung
PAR Für die visuelle Darstellung der Inhalte ist eine grafische Benutzeroberfläche erforderlich, welche die Daten des Versicherten strukturiert und übersichtlich darstellt.
PAR Das FdV soll eine einheitlich gestaltete Oberfläche zur Benutzerführung besitzen, um die Übersichtlichkeit in allen Anwendungsfällen für den Nutzer zu gewährleisten. Es soll Menüfunktionen, Texte und andere Anzeigen eindeutig, verständlich und widerspruchsfrei benennen bzw. darstellen.
PAR Das FdV soll es dem Nutzer ermöglichen, zu jeder Zeit zu erkennen, in welchem ePA-Anwendungsfall sich die Applikation gerade befindet.

PAR Hinweis:<br>Ist durch das Betriebssystem keine sichere und ausreichende Unterstützung des Hintergrundmodus möglich, kann die Ausführung im Vordergrund erfolgen.

PAR Sofern der Benutzer diese Permissions nicht schon bei der Installation freigegeben hat, ist die Freigabe beim Beginn längerer Aktionen einzuholen und zu aktivieren. Insbesondere ist dies bei der Umschlüsselung zu beachten, da sie länger dauern kann.

PAR -HEADING(ids=5.4.2)5.4.2 Benutzerführung
PAR Die Bedienung des FdV soll für den Nutzer intuitiv gestaltet werden. Das FdV soll dem Nutzer alle anzeigbaren Texte mindestens in der Sprache Deutsch bereitstellen. 
PAR DIN Normen und Verordnungen zur Beachtung:
PAR Eine hohe Akzeptanz der Benutzerfreundlichkeit oder Usability wird durch eine einfache, selbsterklärende Bedienung der Oberfläche erreicht, die sich an gängigen Mustern des App-Designs orientiert.
PAR Hierfür ist es auch erforderlich, die Erwartungshaltung der Zielgruppe zu kennen und zu berücksichtigen (z.B. auch Menschen mit körperlichen oder geistigen Einschränkungen).
PAR Die Akzeptanz des Frontends für den Versicherten hängt in großem Maße von folgenden Faktoren ab:

LIST->
LITEM->PAR Anwendbarkeit auf verschiedenen Bildschirmgrößen und AuflösungenLITEM->PAR Intuitive und unkomplizierte HandhabungLITEM->PAR Anwendbarkeit auch im Offline-ModusLITEM->PAR ZielgruppenorientierungLITEM->PAR Leichte und verständliche Bereitstellung von InformationenLITEM->PAR Einhaltung ergonomischer Aspekte (z.B. kurze Touchwege)LITEM->PAR Konsistente Gestaltung der Links, Buttons, etc.
PAR -HEADING(ids=5.4.2.1)5.4.2.1 Technische Normen und Verordnungen zur Beachtung

TABLE(rows=1,cols=736)->
TR-> TD(0,0/1/1)->PAR Die Entwicklung einer barrierearmen Anwendung unterliegt einem sich fortlaufend weiterentwickelnden Prozess. Die Umsetzung aller Anforderungen kann nicht mit der Ersteinführung der Anwendung sichergestellt werden.
PAR Zusätzlich zu den in diesem Kapitel aufgeführten Anforderungen zur Benutzerführung sollen auch die in der ISO 9241 aufgeführten Qualitätsrichtlinien zur Sicherstellung der Ergonomie interaktiver Systeme und Anforderungen aus der Verordnung zur Schaffung barrierefreier Informationstechnik nach dem Behindertengleichstellungsgesetz (Barrierefreie-Informationstechnik-Verordnung – BITV 2.0) beachtet werden.
PAR DIN EN ISO 9241 – Teile mit Bezug zur Software-Ergonomie
PAR Insbesondere sollen die nachfolgend aufgeführten Teile der ISO 9241 berücksichtigt werden:

LIST->
LITEM->PAR Teil 8:       Anforderungen an FarbdarstellungenLITEM->PAR Teil 9:       Anforderungen an Eingabegeräte – außer TastaturenLITEM->PAR Teil 110:   Grundsätze der Dialoggestaltung (ersetzt den bisherigen Teil 10)LITEM->PAR Teil 11:     Anforderungen an die Gebrauchstauglichkeit – LeitsätzeLITEM->PAR Teil 12:     InformationsdarstellungLITEM->PAR Teil 13:     BenutzerführungLITEM->PAR Teil 14:     Dialogführung mittels MenüsLITEM->PAR Teil 15:     Dialogführung mittels KommandosprachenLITEM->PAR Teil 16:     Dialogführung mittels direkter ManipulationLITEM->PAR Teil 17:     Dialogführung mittels BildschirmformularenLITEM->PAR Teil 171:   Leitlinien für die Zugänglichkeit von Software BITV 2.0
PAR Für die Entwicklung eines barrierefreien Frontend des Versicherten ist insbesondere die Verordnung zur barrierefreien Gestaltung von Informationstechnik zu beachten.
PAR BITV 2.0 - Barrierefreie Informationstechnik-Verordnung
PAR Hinweis: Die Versionsnummern der aufgeführten Normen und Richtlinien spiegeln den Stand zum Zeitpunkt der Erstellung dieses Dokumentes wider.
PAR Die seit 2018 bestehende umfassende Forderung nach Umsetzung von Barrierefreiheit in der Informationstechnik erwächst aus der EU Richtlinie 2016/2102 zur „Barrierefreiheit von Webseiten und mobiler Anwendungen öffentlicher Stellen“. Diese Richtlinie musste im Jahr 2018 in Bundes- und Landesrecht übertragen werden. – Diese Gesetze verweisen jeweils auf die Barrierefreie Informationstechnik-Verordnung mit Ausgabe vom 21. Mai 2019 (BITV 2.0).
PAR Zur Erfüllung der BITV 2.0 § 3 Abs. 2 ist die durch die Veröffentlichung im europäischen Amtsblatt harmonisierte EN 301549 „Barrierefreiheitsanforderungen für IKT-Produkte und -Dienstleistungen“ (V 2.1.2 von 2018-08) anzuwenden. Diese liegt in der Fassung von 2020-02 als DIN EN 301549 als deutsche Übersetzung vor. Die DIN EN 301549 ist eine Beschaffungsnorm. Die darin aufgeführten und für den Anwendungsfall des FdV des E-Rezepts anzuwendenden Erfolgskriterien sind in Kapitel 9 (Web mit 50 Erfolgskriterien), Kapitel 10 (Dokumente mit 46 Erfolgskriterien) und Kapitel 11 (Nicht webbasierte Software mit 44 Erfolgskriterien) aufgeführt. Sie entsprechen den Erfolgskriterien von Level AA der 2.1. WCAG 2.1 (Web Content Accessibility Guidelines).
PAR Der sachliche Geltungsbereich der BITV 2.0 umfasst folgende relevanten Anwendungsbereiche für diese Spezifikation:

LIST->
LITEM->PAR Webseiten,LITEM->PAR nicht webbasierte Software mit mobilen Anwendungen.
PAR Folgende Gestaltungsmerkmale der Anwendungen stellen die Barrierefreiheit sicher: 

LIST->
LITEM->PAR wahrnehmbar,LITEM->PAR bedienbar,LITEM->PAR verständlich undLITEM->PAR robust.    
PAR In den genannten Normen und Standards werden nebeneinander die Belange von in der Handmotorik eingeschränkter, blinder, sehbehinderter, gehörloser, schwerhöriger, geistig und lernbehinderter Menschen berücksichtigt.
PAR Nach BITV 2.0 müssen Dokumente, die über dem FdV angezeigt werden, die gleichen Anforderungen an die Barrierefreiheit erfüllen, wie sie an die Anwendung gestellt werden. Sämtliche bereitgestellten Dokumente müssen als barrierefreie Formate angeboten werden, die mit dem Screenreader lesbar und navigierbar sind. Hierbei müssen die behinderungsspezifischen Standardsoftwares zur Herstellung von Zugänglichkeit berücksichtigt werden.
PAR Allgemeine Anforderungen an die Benutzerfreundlichkeit


PAR Zusätzliche Sprachen können unterstützt werden.



PAR Bezeichnungen sollen nach Möglichkeit vollständig ausgeschrieben sein, Abkürzungen sind zu vermeiden.






PAR Um dem Nutzer die Bedienung zu vereinfachen, sollen ihm Hinweise angezeigt werden, die den Zweck sowie den inhaltlichen Ablauf eines Anwendungsfalls betreffen.
PAR Ist ein Anwendungsfall durchgeführt worden, muss das FdV das Ergebnis für den Versicherten klar verständlich anzeigen, z. B. "Die Vertretung wurde erfolgreich eingerichtet.".
PAR Ist ein Anwendungsfall durch den Nutzer abgebrochen worden oder technisch nicht durchführbar, muss der Nutzer ebenfalls einen für ihn verständlichen Hinweis erhalten. In jedem Fall muss das Ergebnis für den Nutzer klar erkennbar sein.
PAR Ist ein Anwendungsfall durch den Versicherten abgebrochen worden oder technisch nicht durchführbar, muss der Versicherte ebenfalls einen für ihn verständlichen Hinweis erhalten. In jedem Fall muss das Ergebnis für den Versicherten klar erkennbar sein.
PAR Für die Anzeige in Fehlerfällen siehe Kapitel "".
PAR Zur Sicherstellung, dass keine Daten versehentlich gelöscht werden, soll der Nutzer nach der Auswahl der Löschen-Funktion für Dokumente darauf hingewiesen werden, dass es sich hierbei um eine unwiderrufliche Aktion handelt.
PAR -HEADING(ids=5.4.3)5.4.3 Anzeige von Dokumenten
PAR Der Nutzer kann nach Dokumenten in der ePA suchen und diese herunterladen oder sich anzeigen lassen.


PAR Technische Metadaten zu einem Dokument müssen nicht angezeigt werden.

PAR Für die Anzeige der Dokumente werden die auf dem Gerät des Versicherten (GdV) verfügbaren Standardprogramme verwendet. Unter einem Standardprogramm wird das im GdV mit einem Dokumenttypen verknüpfte Programm verstanden (z.B. Dateityp PDF mittels eines auf dem GdV verfügbaren PDF Reader). Das FdV braucht keine Funktionalität zur Anzeige von Dokumenten in beliebigem Format bereitstellen.
PAR Ist kein Programm zur Anzeige des Dokumentenformates auf dem GdV verfügbar, dann kann der Nutzer das Dokument nur lokal speichern.

PAR Für Informationen zu strukturierten Dokumenten siehe [A_14761-*].
PAR Wenn ein Arztbrief Dokument mit xml- und pdf-Anteil vorliegt, muss nur das PDF angezeigt werden.
PAR Der Nutzer kann Dokumente in die ePA einstellen. Dafür müssen diese im FdV ausgewählt werden.

PAR -HEADING(ids=5.4.4)5.4.4 Sammlungen
PAR Als Sammlung gemäß [] wird eine Zusammenstellung von Dokumenten verstanden, die in ihrer Gesamtheit betrachtet, berechtigt oder anderweitig besonders behandelt werden müssen. Zum Beispiel werden einzelne Einträge im Impfpass als separate Dokumente in ePA abgelegt. Als Sammlung "Impfpass" unterliegen sie jedoch bestimmten Verarbeitungsregeln. Beispiele für andere Sammlungen sind der Mutterpass oder das Kinderuntersuchungsheft. Je nach Verarbeitungsvorgaben für einzelne Sammlungen werden drei Sammlungstypen ("mixed", "uniform" und "atomic") eingeführt. Bestehende strukturierte Dokumente werden einem dieser Typen zugeordnet, weitere strukturierte Dokumente und ihre Sammlungstypen können konfiguriert werden. Weitere Details finden sich in []. 
PAR Für das Erteilen einer Berechtigung für eine LEI auf einen Pass gilt das analog, d.h., das ePA-Frontend des Versicherten muss die Erteilung einer Berechtigung zum Zugriff auf einen Pass in seiner Gesamtheit durch eine LEI unterstützen. Dies wird in Anforderung A_19686-* geregelt.


PAR Das lokale Speichern kann im PDF-Format angeboten werden.

PAR Das Löschen einer Sammlungsinstanz umfasst das Löschen aller zur Instanz gehörenden Dokumente.
PAR -HEADING(ids=5.4.5)5.4.5 Metadaten für einzustellende Dokumente
PAR Für Dokumente, welche durch den Nutzer in die ePA eingestellt werden, sind Metadaten anzugeben, auf deren Basis Dokumente nachfolgend gesucht und heruntergeladen werden können.
PAR Die XDS-Metadaten und ihre Nutzungsvorgaben sind in [gemSpec_DM_ePA] beschrieben.<br>Es kann auf die Anzeige einzelner nutzbarer Metadatenattribute verzichtet werden, um eine übersichtliche Darstellung beim Einstellen der Dokumente zu erreichen.
PAR Das FdV soll für die Eingabe von Metadaten required-Attribute als Pflichtfelder kennzeichnen. Dabei soll unterschieden werden zwischen einer einer einfachen Ansicht für das Einstellen von Dokumenten des Versicherten und einer erweiterten Ansicht für das Einstellen von LE-Dokumenten durch den Versicherten. Vorgaben dazu werden in [gemSpec_DM_ePA] getroffen.
PAR Defaultmäßig wird der Nutzer als Submission Set author (Einstellender) gesetzt. Die Werte für den author werden mindestens mit den Informationen givenname, surname und title aus den subject des C.CH.AUT bzw. C.CH.AUT_ALT Zertifikates vorbelegt. Das Zertifikat wird im Anwendungsfall "Login Aktensession" in die Session-Daten übernommen.
PAR Entsprechend den Nutzungsvorgaben für die Verwendung von XDS-Metadaten sind für einzelne Attribute Value Sets zu verwenden. Für eine bessere Bedienbarkeit bei der Eingabe der Metadaten werden die in der GUI auswählbaren Werte defaultmäßig auf einen Teil des Value Sets gemäß  eingeschränkt. Über die Konfiguration des FdV hat der Nutzer die Möglichkeit, die anzuzeigenden Werte zu ändern, d.h. nicht angezeigte Werte aus dem Value Set hinzuzunehmen oder angezeigte Werte zu verbergen.
PAR Das FdV soll dem Nutzer in der GUI für Attribute von Metadaten, welche entsprechend einem Value Set belegt werden, eine konfigurierbare Auswahl anbieten. Wenn das Attribut optional ist, dann muss die Auswahl einen leeren Eintrag beinhalten.
PAR Dokumente, die vom Versicherten am FdV eingestellt werden, werden vom Aktensystem entsprechend der verwendeten Metadaten in die Kategorien bzw. die Folder "patientdoc", "childsrecord"  oder "eGA" eingeordnet, da sie mit submissionset.authorRole = 102 eingestellt werden. Zusätzliche Metadaten können Dokumente als medizinisch relevante Dokumente auszeichnen, etwa als Arztbrief, ohne dass sie deswegen in Ordner einsortiert werden, die für Dokumentenkategorien der Leistungserbringer stehen. 
PAR Das Frontend kann den Nutzer auch durch eine sinnvolle Vorauswahl bei der Klassifizierung und Typisierung unterstützen, insbesondere falls Versicherte Dokumente in ihre Akte einstellen wollen, die ursprünglich von anderen Leistungserbringern erstellt wurden, etwa Arztbriefe, die der Versicherte in Kopie erhalten hat.

PAR Ggf. kann dazu bei unbekannten Codes der Anzeigename eines Codes (sofern mit übertragen bzw. verfügbar) angezeigt werden.
PAR -HEADING(ids=5.4.6)5.4.6 Konfiguration des ePA-Frontend des Versicherten
PAR Im Folgenden sind Konfigurationsparameter beschrieben, deren Werte für die Nutzung der Schnittstellen benötigt werden. Darüber hinaus kann der Hersteller des ePA-Frontend des Versicherten zusätzliche Konfigurationsparameter definieren.

PAR Entsprechend dem für die Akten-ID spezifizierten Format, besitzt die Akten-ID einen variablen und einen konstanten Anteil. Der variable Anteil entspricht der Versicherten-ID, welche bspw. auf der eGK des Versicherten aufgedruckt ist. Das Erfassen der Akten-ID kann auf die Versicherten-ID beschränkt werden und automatisch um die konstanten Anteile ergänzt werden.



PAR Das entspricht den folgenden Parametern aus TAB_FdV_104 für Aktenkontoinhaber und für jede Vertretung:

LIST->
LITEM->PAR FQDN Anbieter ePA-Aktensystem, LITEM->PAR Anbieter-ID.
PAR Ein FdV kann an ein oder mehrere ePA-Aktensysteme gekoppelt werden.
PAR -HEADING(ids=6)6 Funktionsmerkmale
PAR -HEADING(ids=6.1)6.1 Allgemein
PAR -HEADING(ids=6.1.1)6.1.1 Aktensession-Verwaltung
PAR Eine Aktensession in einem ePA-Frontend des Versicherten  bezeichnet die Sitzung eines Nutzers, in der dieser fachliche Anwendungsfälle im Aktenkonto eines Versicherten ausführt. Hierbei kann es sich um das Aktenkonto des Nutzers selber (Nutzer ist Aktenkontoinhaber) oder um das Aktenkonto eines zu vertretenden Versicherten handeln, wenn dieser eine entsprechende Vertretung für den Nutzer eingerichtet hat.
PAR Ein Aktenkonto wird eindeutig durch eine Akten-ID (RecordIdentifier, siehe ) referenziert. Der RecordIdentifier für sein eigenes Aktenkonto wird dem Versicherten als Ergebnis der Eröffnung des Aktenkontos mitgeteilt. Wenn der Nutzer die Vertretung eines anderen Versicherten wahrnimmt, dann erhält der Nutzer den RecordIdentifier von dem zu Vertretenden.
PAR Eine Aktensession im ePA-Frontend des Versicherten beginnt mit dem Login und endet mit dem Logout des Nutzers aus dem Aktenkonto. Das Logout erfolgt auf Wunsch des Nutzers, mittels eines Time-outs oder nach einem Fehler beim Login.

PAR Das Login kann explizit nach Auswahl eines Aktenkontos im FdV durch den Nutzer ausgeführt werden.


PAR Falls eine Auswahl zwischen eGK und alternativer kryptographische Versichertenidentität durch den Nutzer getroffen wurde, kann diese in der Konfiguration gespeichert werden.


PAR Das FdV kann dem Nutzer vor der Abmeldung wegen Inaktivität einen Hinweis einblenden, der es dem Nutzer ermöglicht, die Aktensession fortzuführen.
PAR Für die Dauer der Aktensession benötigt das ePA-Frontend des Versicherten einen gültigen Authentisierungstoken. Dieser wird in der Aktivität "Authentisieren des Nutzers" im Anwendungsfall "Login Aktensession" erstmalig ausgestellt. Der Authentisierungstoken hat eine Gültigkeitsdauer von 5 min und kann über einen Zeitraum von 120 min erneuert werden. Nach diesem Zeitraum muss sich der Nutzer neu authentisieren.

PAR Der Zeitpunkt zum Erneuern soll so gewählt werden, dass bei einem Fehlschlagen der Operation je nach Fehlermeldung die Aktivität noch einmal ausgeführt werden kann, bzw. eine erneute Authentisierung gestartet werden kann.<br>Zu einer Aktensession im FdV gehören Session-Daten, welche für die Dauer der Aktensession vorzuhalten sind. Die Session-Daten beinhalten u.a. die in TAB_FdV_105 gelisteten Informationen. Eine vollständige Auflistung ist in "" beschrieben.
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_105 – Session-Daten

TABLE(rows=4,cols=175+553)->
TR-> TD(0,0/1/1)->PAR Authentisierungstoken TD(0,1/1/1)->PAR Authentifizierungsbestätigung
TR-> TD(1,0/1/1)->PAR Autorisierungstoken TD(1,1/1/1)->PAR Autorisierungsbestätigung
TR-> TD(2,0/1/1)->PAR Aktenschlüssel TD(2,1/1/1)->PAR Symmetrischer Schlüssel, der alle Dokumente eines Versicherten schützt, indem der Aktenschlüssel die zu den Dokumenten gehörigen Dokumentenschlüssel verschlüsselt.
TR-> TD(3,0/1/1)->PAR Kontextschlüssel TD(3,1/1/1)->PAR Symmetrischer Schlüssel mit dem Metadaten der Dokumente, Policy Documents für die Zugriffssteuerung und das Zugriffsprotokoll für die persistente Speicherung im ePA-Aktensystem verschlüsselt werden.
PAR Die Informationen zu diesen Session-Daten ergeben sich aus dem Anwendungsfall "Login Aktensession".
PAR Nach dem Ende der Aktensession (Anwendungsfall "Logout") werden die Session-Daten verworfen.
PAR -HEADING(ids=6.1.2)6.1.2 Kommunikation mit dem ePA-Aktensystem
PAR Das ePA-Frontend des Versicherten nutzt TLS-Verbindungen für die Kommunikation zum ePA-Aktensystem. Es verbindet sich mit der Komponente Zugangsgateway des Versicherten. Das ePA-Frontend des Versicherten führt eine Authentisierung des Servers durch, wobei sich das Zugangsgateway mittels eines öffentlich prüfbaren Zertifikats authentisiert. Für die TLS-Verbindung gelten die Vorgaben aus [gemSpec_Krypt].
PAR Der Anbieter des ePA-Aktensystems, welchen der Versicherte gewählt hat, teilt dem Versicherten einen FQDN für den Zugriff auf das ePA-Aktensystem mit. Im Falle einer Vertretung, muss der zu Vertretende dem Vertretenden den FQDN für den Zugriff auf das ePA-Aktensystem mitteilen.

PAR Falls für den FQDN mehrere IP-Adressen hinterlegt sind, wählt das ePA-Frontend des Versicherten zufällig eine der IP-Adressen als Endpunkt für den Verbindungsaufbau aus. Die Komponente Zugangsgateway des Versicherten weist bei Vollauslastung der Systemressourcen im ePA-Aktensystem die Verbindunganfrage ab. In diesem Fall kann das ePA-Frontend des Versicherten zufällig eine der weiteren IP-Adressen für einen neuen Verbindungsaufbau auswählen.<br>Jeder Anbieter eines ePA-Aktensystem verwaltet gemäß [gemSpec_Aktensystem#A_22688-*] die Schnittstellen-Konfiguration des ePA-Aktensystems. Die einzelnen Module werden mit Key-/Value-Paaren mit den Kürzeln in TAB_FdV_106 identifiziert.
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_106 – ePA-Aktensystem Komponenten, Schnittstellen-Konfiguration

TABLE(rows=8,cols=254+88+377)->
TR-> TH(0,0/1/1)->PAR ePA-Aktensystem /TI-Komponente TH(0,1/1/1)->PAR Attribut TH(0,2/1/1)->PAR <path> für Schnittstelle
TR-> TD(1,0/1/1)->PAR Authentisierung TD(1,1/1/1)->PAR authn TD(1,2/1/1)->PAR I_Authentication_Insurant
TR-> TD(2,0/1/1)->PAR Autorisierung TD(2,1/1/1)->PAR authz TD(2,2/1/1)->PAR I_Authorization_Insurant<br>I_Authorization_Management_Insurant
TR-> TD(3,0/1/1)->PAR Dokumentenverwaltung TD(3,1/1/1)->PAR docv TD(3,2/1/1)->PAR I_Account_Management_Insurant<br>I_Document_Management_Connect<br>I_Document_Management_Insurant<br>I_Key_Management_Insurant
TR-> TD(4,0/1/1)->PAR Status Proxy<br>(OCSP Responder) TD(4,1/1/1)->PAR ocspf TD(4,2/1/1)->PAR I_OCSP_Status_Information
TR-> TD(5,0/1/1)->PAR Verzeichnisdienst Proxy TD(5,1/1/1)->PAR avzd TD(5,2/1/1)->PAR I_Proxy_Directory_Query
TR-> TD(6,0/1/1)->PAR Schlüsselgenerierungsdienst Typ 1 TD(6,1/1/1)->PAR sgd1 TD(6,2/1/1)->
TR-> TD(7,0/1/1)->PAR Schlüsselgenerierungsdienst Typ 2 TD(7,1/1/1)->PAR sgd2 TD(7,2/1/1)->
PAR Die URL wird entsprechend den Vorgaben in  gebildet.


PAR Das Zugangsgateway für Versicherte authentisiert sich mit einem extended-validation-X.509-Zertifikat. Für Kriterien zur Prüfung des Zertifikates siehe "".
PAR Es gelten die Bedingungen für das TLS-Handshake gemäß [gemSpec_PKI#GS-A_4662].

PAR Für jede Aktensession kann eine separate TLS-Verbindung genutzt werden.
PAR Für die Schlüsselgenerierung müssen der Schlüsselgenerierungsdienst (SGD) 1 und SGD 2 parallel angesprochen werden (siehe [A_17994-01]A_17994-01 ). Dafür baut das ePA-Frontend des Versicherten eine zweite TLS-Verbindung auf (siehe ), welche nach Abschluss der Schlüsselgenerierung wieder geschlossen wird.



PAR -HEADING(ids=6.1.3)6.1.3 Sicherer Kanal zur Dokumentenverwaltung
PAR Die Kommunikation zur Dokumentenverwaltung wird zusätzlich zu TLS über einen sicheren Kanal zwischen FdV und der Vertrauenswürdigen Ausführungsumgebung (VAU) in der Dokumentenverwaltung gesichert. Die Dokumentenverwaltung bietet dem FdV die folgenden Operationen ausschließlich über einen sicheren Kanal an:

LIST->
LITEM->PAR I_Document_Management_Insurant::ProvideAndRegisterDocumentSet-bLITEM->PAR I_Document_Management_Insurant::RegistryStoredQueryLITEM->PAR I_Document_Management_Insurant::RemoveMetadataLITEM->PAR I_Document_Management_Insurant::RetrieveDocumentSetLITEM->PAR I_Document_Management_Insurant::RestrictedUpdateDocumentSetLITEM->PAR I_Account_Management_Insurant::GetAuditEventsLITEM->PAR I_Account_Management_Insurant::SuspendAccountLITEM->PAR I_Account_Management_Insurant::ResumeAccountLITEM->PAR I_Key_Management_Insurant::StartKeyChangeLITEM->PAR I_Key_Management_Insurant::GetAllDocumentKeysLITEM->PAR I_Key_Management_Insurant::PutAllDocumentKeysLITEM->PAR I_Key_Management_Insurant::FinishKeyChangeLITEM->PAR I_Document_Management_Connect::OpenContextLITEM->PAR I_Document_Management_Connect::CloseContext

PAR Für Informationen zum Kommunikationsprotokoll zwischen dem ePA-Frontend des Versicherten  und einer VAU siehe  und .
PAR -HEADING(ids=6.1.4)6.1.4 Geräteautorisierung
PAR Um einen möglichen Missbrauch und Identitätsdiebstahl erkennen zu können, wird eine Berechtigungsprüfung auf Geräteebene auf Seiten der Versicherten umgesetzt. Der Zugriff auf ein Aktenkonto ist zulässig, wenn das Gerät, auf dem das FdV genutzt wird, durch den Nutzer über einen separaten Benachrichtigungskanal (E-Mail mit Freischalt-Link) zur Benutzung eines Aktenkontos autorisiert wurde. Siehe auch .
PAR Das Gerät wird durch die Gerätekennung (DeviceID) identifiziert. Die Gerätekennung beinhaltet die Geräteidentität und den Gerätenamen. Die Geräteidentität ist eine Zufallszahl, welche dem ePA-Frontend des Versicherten von der Autorisierung übermittelt wird. Der Gerätename ist ein bis zur 64 Zeichen langer String, welcher durch den Nutzer in der Konfiguration des ePA-Frontend des Versicherten hinterlegt wird (siehe A_15292-*).
PAR Beim erstmaligen Login eines Nutzers von einem GdV wird die Gerätekennung mit leerem Geräteidentifikator (phr:DeviceID::Device) im Aufruf gesandt. Da noch kein bekannter Geräteidentifikator für dieses GdV in der Autorisierung registriert ist, antwortet die Autorisierung mit dem Fehler DEVICE_UNKNOWN und einer Zufallszahl im Fehlertext. Das ePA-Frontend des Versicherten speichert die Zufallszahl als Geräteidentifikator lokal und verwendet sie in allen Aufrufen gegenüber der Komponente Autorisierung.


PAR Für die Struktur von DeviceID siehe [PHR_Common.xsd].
PAR -HEADING(ids=6.1.5)6.1.5 Zertifikatsprüfung
PAR Das ePA-Frontend des Versicherten  verwendet bei den in TAB_FdV_110 dargestellten Aktivitäten Zertifikate.
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_110 – Zertifikatsnutzung

TABLE(rows=8,cols=198+81+175+176+66)->
TR-> TH(0,0/1/1)->PAR Aktivität TH(0,1/1/1)->PAR Zertifikat der TI TH(0,2/1/1)->PAR Zertifikatstyp TH(0,3/1/1)->PAR Rollen-OID TH(0,4/1/1)->PAR Nutzung
TR-> TD(1,0/1/1)->PAR Einlesen der eGK TD(1,1/1/1)->PAR ja TD(1,2/1/1)->PAR C.CH.AUT TD(1,3/1/1)->PAR oid_egk_aut TD(1,4/1/1)->PAR passiv
TR-> TD(2,0/1/1)->PAR TLS-Verbindungsaufbau zum Zugangsgateway des Versicherten TD(2,1/1/1)->PAR nein TD(2,2/1/1)->PAR TLS Internet Zertifikat TD(2,3/1/1)->PAR n/a TD(2,4/1/1)->PAR aktiv
TR-> TD(3,0/1/1)->PAR Authentisierung TD(3,1/1/1)->PAR ja TD(3,2/1/1)->PAR C.CH.AUT<br>C.CH.AUT_ALT TD(3,3/1/1)->PAR oid_egk_aut<br>oid_egk_aut_alt TD(3,4/1/1)->PAR passiv
TR-> TD(4,0/1/1)->PAR Aufbau sicherer Kanal zur VAU TD(4,1/1/1)->PAR ja TD(4,2/1/1)->PAR C.FD.AUT TD(4,3/1/1)->PAR oid_epa_vau TD(4,4/1/1)->PAR aktiv
TR-> TD(5,0/1/1)->PAR Berechtigung von LEI, DiGA oder KTR erteilen<br>Berechtigung von LEI ändern TD(5,1/1/1)->PAR ja TD(5,2/1/1)->PAR C.HCI.ENC TD(5,3/1/1)->PAR oid_smc_b_enc TD(5,4/1/1)->PAR aktiv
TR-> TD(6,0/1/1)->PAR Verbindungsaufbau SGD TD(6,1/1/1)->PAR ja TD(6,2/1/1)->PAR C.SGD-HSM.AUT TD(6,3/1/1)->PAR oid_sgd1_hsm<br>oid_sgd2_hsm TD(6,4/1/1)->PAR aktiv
TR-> TD(7,0/1/1)->PAR Verschlüsselung pseudonymisierter Dokumente für Forschungszwecke TD(7,1/1/1)->PAR ja TD(7,2/1/1)->PAR C.FD.ENC TD(7,3/1/1)->PAR oid_epa_fdz TD(7,4/1/1)->PAR aktiv
PAR Es gelten folgende übergreifende Festlegungen für die Prüfung aktiv durch das ePA-Frontend des Versicherten genutzter Zertifikate.

PAR "Ein Zertifikat aktiv verwenden" bedeutet im Sinne von A_15872, dass ein ePA-FdV einen dort aufgeführten öffentlichen Schlüssel innerhalb einer kryptografischen Operation (Signaturprüfung, Verschlüsselung, Signaturprüfung von öffentlichen (EC)DH-Schlüsseln etc.) nutzt. Erhält ein ePA-Frontend des Versicherten bspw. einen Access-Token, in dem Signaturen und Zertifikate enthalten sind und behandelt es diesen Token als opakes Datenobjekt, ohne die Zertifikate darin gesondert zu betrachten, dann verwendet das ePA-Frontend des Versicherten diese Zertifikate im Sinne von A_15872 passiv.
PAR -HEADING(ids=6.1.5.1)6.1.5.1 Vertrauensanker des TI-Vertrauensraum
PAR Der Vertrauensraum der TI ist in [gemSpec_PKI#8.1] beschrieben. Für das ePA-Frontend des Versicherten gelten abweichende Vorgaben, da das ePA-FdV nicht innerhalb der TI betrieben wird. Diese Abweichungen werden im Folgenden beschrieben.
PAR Die Initialisierung des TI-Vertrauensraums und der Wechsel des TI-Vertrauensankers wird beim ePA-Frontend des Versicherten
PAR durch die Bereitstellung der FdV Applikation durchgeführt.

PAR -HEADING(ids=6.1.5.2)6.1.5.2 TSL-Behandlung
PAR Folgende Vorgaben gelten für den Bezug und die Verarbeitung der TSL.

PAR Für die Spezifikation der Schnittstelle siehe .
PAR Der Aufbau und der Inhalt der TSL sind durch [ETSI_TS_102_231_V3.1.2] gegeben und in  beschrieben.

PAR Die Bedingungen an den Vertrauensstatus der TSL sind in [gemSpec_TSL#8.2.2] beschrieben. Für das ePA-FdV gilt eine "TSL-Graceperiod" von 0 Tagen, d.h., die TSL-Informationen sind nicht mehr vertrauenswürdig, wenn das aktuelle Datum nach dem Datum nextUpdate der TSL liegt.

PAR Hinweis: Eine Möglichkeit zur Umsetzung ist, im Rahmen der Aktualisierung der TSL (vgl. A_15874) nach positiver Prüfung der TSL-Signatur die CA-Zertifikate aus der TSL in verschiedene zugriffsgeschützte Verzeichnisse zu legen: bspw. einmal für HBA/SMC-B/eGK-CAs, einmal für SGD-Zertifikate und einmal für CAs der Komponenten-PKI der TI. Die Verzeichnisse dienen dann als Truststore für die Zertifikatsprüfung, womit sich die Umsetzungskomplexität der Vorgabe aus A_15873 Punkt 2 reduziert.

PAR Hinweis: Es ist in Bezug auf die CC-Evaluierung hilfreich, wenn die TSL-Signaturprüfung mit einer speziell dafür geschriebenen (und gehärteten) Programmkomponente durchgeführt wird. Bei einer anschließenden XML-Auswertung der TSL mit einer Standard-XML-Bibliothek können die verarbeiteten XML-Daten dann als vertrauenswürdig angesehen werden.
PAR -HEADING(ids=6.1.5.3)6.1.5.3 Zertifikatsprüfung von Zertifikaten der TI
PAR In der folgenden Anforderung sind die Schritte zum Prüfen eines Zertifikates der TI beschrieben. In den Schritten werden TUC_PKI_* referenziert. Sie dienen als Rahmen für den Ablauf der Prüfschritte. Die TUC_PKI_* sind in dieser Afo nicht normativ umzusetzen.

PAR Für die Prüfung des Online-Status von Zertifikaten der TI wird die Schnittstelle I_OCSP_Status_Information genutzt. Siehe [gemSpec_PKI#9]. Die Schnittstelle wird durch den Status-Proxy der Komponente Zugangsgateway des Versicherten angeboten. Siehe auch .

PAR -HEADING(ids=6.1.5.4)6.1.5.4 Zertifikatsprüfung von Internet-Zertifikaten
PAR Folgende Vorgaben gelten für die Prüfung von Internet-Zertifikaten.

PAR Hinweis 1: Der erste Teil von A_15887-* ist gleichbedeutend damit, dass das CA-Zertifikat im Zertifikats-Truststore eines aktuellen Webbrowsers ist.
PAR Hinweis 2: gemäß Absprache mit den ePA-Industriekonsortien soll bei der Prüfung nach A_15887-* die Menge der zulässigen CA:

ORDERED-LIST->
LITEM->PAR initial auf die CA-Zertifikate von GlobalSign, DigiCert und Entrust aus der Liste von https://wiki.mozilla.org/CA/Included_Certificates -> "Included CA Certificates" beschränkt werden.LITEM->PAR weiterhin muss die Liste die CA-Zertifikate von ISRG (Let's encrypt) enthalten (fachlicher Hintergrund: das Gesundheitspotral https://gesund.bund.de/https://gesund.bund.de/ verwendet diesen TSP).LITEM->PAR und zukünftig auf eine Menge von CA-Zertifikaten beschränkt werden, die in Abhängigkeit zu [gemSpec_Aktensystem#A_22409] steht und bei Änderung von der gematik an die ePA-FdV-Hersteller gesendet wird.
PAR -HEADING(ids=6.1.6)6.1.6 Dokumente
PAR Das ePA-Aktensystem unterstützt die einzelne Dokumente bis zu einer Größe von 25 MB.


PAR Hinweis: Aktive Elemente sind alle code-ausführenden Anteile eines Dokuments, also etwa Makros oder Skripte. Diese dürfen im Kontext des FdV nicht ausgeführt werden, etwa indem auch bei zugelieferten Bibliotheken diese Funktionalität deaktiviert wird.<br>Die Verwendung explizit externer Applikationen wird dabei nicht betrachtet, da hier aus Sicht des ePA-FdV der Vorgang mit dem Herunterladen des Dokuments als abgeschlossen angesehen wird.
PAR -HEADING(ids=6.1.7)6.1.7 Umschlüsselung der Dokumente
PAR Die Dokumente der elektronischen Patientenakte sind mit ePA-spezifischen kryptographischen Schlüsseln gesichert. Ab der ePA Version 2.0 ist es möglich, dass der Versicherte zu jedem Zeitpunkt eine Umschlüsselung starten kann. Dadurch kann bei Verdacht oder bei tatsächlicher Kompromittierung eine missbräuchliche Nutzung der Dokumente verhindert werden.
PAR Die Umschlüsselung kann über das FdV vom Versicherten gestartet werden.
PAR -HEADING(ids=6.1.7.1)6.1.7.1 Kryptographische Architektur der Dokumentenverschlüsselung
PAR Die Dokumente der elektronischen Patientenakte werden verschlüsselt im Aktensystem abgelegt. Der Betreiber hat keinen Zugriff auf die Klartext-Daten der Dokumente. Die Versicherten können jederzeit alle Dokumente entschlüsseln und die Leistungserbringer dürfen im Rahmen ihrer von den Versicherten festgelegten Berechtigungen für sie freigegebene Dokumente über ihr Primärsystem entschlüsseln. Um diese Funktionalität umzusetzen sind verschiedene Verschlüsselungen mit unterschiedlichen Schlüsseln notwendig. Diese müssen bei der Umschlüsselung ausgetauscht werden. In der folgenden Abbildung sind die verschiedenen Schlüssel aufgeführt.

PAR Abbildung #: Kryptographische Schlüssel der ePA
PAR Für die Verschlüsselung eines Dokumentes wird ein dokumentenindividueller symmetrischer Dokumentenschlüssel verwendet. Dieser wird mit einem versichertenindividuellen Aktenschlüssel verschlüsselt. Der Aktenschlüssel wird mit nutzerindividuellen Schlüsseln des SGD1 und SGD2 verschlüsselt und anschließend in der Komponente Autorisierung abgelegt. Nutzer sind berechtigte LEI, Kassen und Vertreter des Versicherten.
PAR Die mit dem Dokumentenschlüssel gesicherten Dokumente und die mit dem Aktenschlüssel verschlüsselten Dokumentenschlüssel werden mit einem aus einem betreiberspezifischen Schlüssel abgeleiteten aktenspezifischen Schlüssel nochmals verschlüsselt und anschließend im Aktensystem abgelegt.
PAR Die Metadaten werden mit dem versichertenindividuellen Kontextschlüssel verschlüsselt. Die verschlüsselten Metadaten werden nochmals mit dem aus dem betreiberspezifischen Schlüssel abgeleiteten aktenspezifischen Schlüssel verschlüsselt und im Aktensystem abgelegt. Die Kontextschlüssel werden mit den nutzerindividuellen Schlüsseln des Schlüsselgenerierungsdienstes 1 und 2 (SGD1 und SGD2) symmetrisch verschlüsselt und anschließend in der Komponente Autorisierung abgelegt.
PAR Ab Release 4.0.1 ist die explizite, vom Versicherten angestoßene, Erneuerung der Akten-, Kontext- und SGD1- und SGD2 Schlüssel umgesetzt. Der Betreiber kann unabhängig davon regelmäßig den betreiberspezifischen Schlüssel erneuern.
PAR Einzelne Rückgabewerte bei der Kommunikation zwischen dem FdV und der Autorisierungskomponente und der Dokumentenverwaltung sind vom jeweiligen Absender signiert, damit beim Weiterleiten von Argumenten (z.B. bei der Übermittlung der von der Autorisierung ausgestellten rollbackTime) der Empfänger diese über eine Signaturprüfung validieren kann. Es werden sowohl die Herkunft als auch der Signaturerstellungszeitpunkt vom Empfänger geprüft. Das Frontend des Versicherten prüft die Signaturen der Rückgabewerte nicht.

PAR -HEADING(ids=6.1.8)6.1.8 ePA-FdV für Desktop-Plattformen
PAR Wird das FdV nicht auf einem mobilen Gerät betrieben, muss die Verwendung des FdV durch mehrere Versicherte für den Zugriff auf die individuellen ePA möglich sein.

PAR -HEADING(ids=6.1.9)6.1.9 Freigabe von Dokumenten für Forschungszwecke
PAR Einem Versicherten oder einem Vertreter muss die Freigabe von Dokumenten der Akte des Versicherten in pseudonymisierter Form für Zwecke der Forschung gemäß §363 Abs. 1-7 SGB V nach erteilter Einwilligung gemäß § 363 Absatz 2 SGB V ermöglicht werden. Darüber hinaus muss es einem Versicherten oder einem Vertreter möglich sein, die Verwendung zuvor freigegebener Daten für Forschungszwecke zu widerrufen.
PAR Die Freigabe von Dokumenten aus der Akte eines Versicherten ist auf die Freigabe von Daten in strukturierten Dokumenten (MIOs) beschränkt. Die freizugebenden Dokumente werden durch das ePA-FdV unter Verwendung von Pseudonymisierungsvorgaben ("Pseudonymisierungsschema") in pseudonymisierte Dokumente übertragen. Ausschließlich pseudonymisierte Dokumente dürfen für Forschungszwecke an das Forschungsdatenzentrum übermittelt werden. Der Versicherte oder ein Vertreter muss dabei für jeden Freigabevorgang auswählen können, welche Dokumente freigegeben werden sollen. Ein Freigabevorgang kann dabei auch die Freigabe zu einer automatisch zu wiederholenden Übermittelung eines Dokuments an das Forschungsdatenzentrum beinhalten, beispielsweise nach Aktualisierungen eines Dokuments.
PAR Neben der Pseudonymisierung der Daten des Versicherten (pD) wird eine Arbeitsnummer (AN) und ein Lieferpseudonym (LP) auf Basis der KVNR des Versicherten verwendet. Zum Nachweis der Authentizität des Absenders fordert das ePA-FdV die Erstellung von nicht personengebundenen Transporttoken von der Autorisierung des Aktensystems an, jeweils ein Token für die Vertrauensstelle mit der Arbeitsnummer und dem Lieferpseudonym und ein Token für das Forschungsdatenzentrum mit der Arbeitsnummer. Die Einbettung der Arbeitsnummer und des Lieferpseudonyms in diese signierten Token stellt darüber hinaus sicher, dass alle Dokumentenfreigaben des ePA-FdV ausschließlich für dieses Lieferpseudonym erfolgen können. 
PAR Das Transporttoken für die Vertrauensstelle mit dem Lieferpseudonym und der Arbeitsnummer werden an die Vertrauensstelle (VST, gemäß § 303c SGB V) übertragen.
PAR Das Transporttoken für das Forschungsdatenzentrum mit der Arbeitsnummer und die Ende-zu-Ende verschlüsselten pseudonymisierten Dokumente werden an das Forschungsdatenzentrum (FDZ, gemäß § 303d SGB V ) übertragen.
PAR Eine Übersicht der freigegebenen Dokumente und etwaiger Widerrufe der Freigabe wird zentral in einem Dokument des Versicherten in seiner Akte verwaltet (Aufzeichnungsliste).
PAR Die Referenzierung der freigegebenen Dokumente gegenüber dem Forschungsdatenzentrum erfolgt nicht durch Metadaten der Akte (z.B. document.UniqueId). Das ePA-FdV generiert daher pro Dokument (MIO) einen eigenen Identifier. Dieser wird in der Aufzeichnungsliste abgelegt und sowohl für folgende Freigaben, als auch den Widerruf der Dokumente verwendet.

PAR Abbildung # Übersicht des Ablaufs der Freigabe von Daten für Forschungszwecke
PAR -HEADING(ids=6.1.9.1)6.1.9.1 Einwilligung in die Datenfreigabe



PAR Hinweis: das ePA-FdV vermerkt den Status einer erteilten, bzw. widerrufenen Einwilligung nach § 363 Absatz 2 SGB V in der Akte des Versicherten im Dokument der aufgezeichneten Freigaben/Widerrufe (Aufzeichnungsliste).

PAR Hinweis: Es müssen alle Dokumente widerrufen werden, die in der Aufzeichnung der freigegebenen und widerrufenen Dokumente als freigegeben aber noch nicht widerrufen vermerkt sind.
PAR -HEADING(ids=6.1.9.2)6.1.9.2 Freigabe der Dokumente und Pseudonymisierung


PAR Hinweis: Es muss also mindestens ein XDS-Dokument vor einer erneuten Freigabe hinzugekommen, gelöscht oder verändert worden sein. 





PAR Hinweis: Die Pseudonymisierungsvorgaben für die strukturierten Dokumente werden zusammen mit den Implementierungsvorgaben ("Implementation-Guidelines") zu den strukturierten Dokumenten auf GitHub veröffentlicht und enthalten Listen von FHIR-Path-Ausdrücken, welche eindeutig und vollständig die für ein pseudonymisiertes Dokument zulässigen Elemente eines MIOs angeben.
PAR -HEADING(ids=6.1.9.3)6.1.9.3 Übermittlung der Daten an das Forschungsdatenzentrum
PAR Die Übermittlung der freigegebenen und pseudonymisierten Dokumente an das Forschungsdatenzentrum erfolgt verschlüsselt und unter Verwendung einer Arbeitsnummer. Die gleiche Arbeitsnummer und ein Lieferpseudonym werden an die Vertrauensstelle übermittelt.
PAR Ein Übermittlungsvorgang beinhaltet die Übermittlung der pseuonymisierten Dokumente gemäß Auswahl durch den Versicherten oder einen Vertreter. Ein solcher Vorgang kann dabei mehr als einen Aufruf der Schnittstelle des Forschungsdatenzentrums erfordern.
PAR Ein zur Freigabe ausgewähltes Dokument kann in der Akte des Versicherten durch mehr als ein XDS-Dokument repräsentiert sein (Sammlungstypen mixed und uniform). Für jeden Übermittlungsvorgang eines Dokuments dieses Sammlungstyps müssen alle aktuellen (Status 'approved') XDS-Dokumente des assoziierten Ordners (XDS Folder) berücksichtigt werden.
PAR Ein Übermittlungsvorgang zum Zweck des Widerrufs erfolgt analog zu einer Datenfreigabe. Anstelle der pseudonymisierten Dokumente wird jedoch lediglich deren ID an das Forschungsdatenzentrum übertragen.







PAR Erläuterung zum Begriff "Übermittlungsvorgang": Ein Übermittlungsvorgang beinhaltet einen Aufruf der Schnittstelle der Vertrauensstelle und -- je nach Umfang der freigegebenen Dokumente -- einen oder mehrere Aufruf der Schnittstelle des Forschungsdatenzentrums.




PAR Hinweis: Für das ePA-FdV gilt der Vorgang der Übermittelung an das FDZ als erfolgreich abgeschlossen, wenn sowohl der Aufruf der Schnittstelle der Vertrauensstelle [I_VST], als auch der anschließende Aufruf der Schnittstelle des Forschungsdatenzentrums [I_FDZ] erfolgreich war
PAR -HEADING(ids=6.1.9.4)6.1.9.4 Umfang und Aufzeichnung der Freigabe
PAR Jede Freigabe und jeder Widerruf eines strukturierten Dokuments muss erfasst werden und für den Versicherten oder einen Vertreter einsehbar sein. Für diese Aufzeichnungen wird ein vorgegebenes Dokument (Aufzeichnungsliste) in der Akte des Versicherten verwendet. Anhand dieser Aufzeichnungen ist nachvollziehbar, welche Dokumente zu welchem Zeitpunkt freigegeben und an das Forschungsdatenzentrum übermittelt und welche widerrufen wurden und wer den jeweiligen Vorgang initiiert hat. Die aufgezeichnete Dokumenteninformation zu einer Freigabe kann auch für einen eindeutigen Widerruf der Freigabe verwendet werden.
PAR Bei der Aufzeichnung der freigegebenen Dokumente, bzw. der zu übermittelnden Artefakte, muss sichergestellt sein, dass keine Situation eintreten kann welche dazu führt, dass im Forschungsdatenzentrum Dokumente vorliegen, deren Freigabe für einen Versicherten nicht mehr einsehbar und dahingehend auch nicht widerrufbar ist. In die Aufzeichnungsliste werden freizugebende Daten daher vor einer Übermittlung eingetragen und ein Widerruf erst nach Erhalt der Bestätigung durch das Forschungsdatenzentrum. Das ePA-FdV selbst muss daneben Maßnahmen vorsehen, die sicherstellen, dass der genannte eindeutige Zustand auch nach einer unvorhergesehenen Unterbrechung der Kommunikation erreicht werden kann. 

PAR Hinweis: A_21878-* bezieht sich auf die Einwilligung gemäß § 363 Absatz 2 SGB V (A_21843-*). Als Nachweis genügt der Einwilligungsstatus, welcher gemäß den Vorgaben in [FD_Aufzeichnung] angegeben wird. 



PAR Hinweis: Die document.UniqueId des Dokuments ändert sich bei jeder Modifikation. Durch die Verwendung der 'referenceIdList' mit jeweils der Referenz auf den initialen Wert der document.UniqueId und in Kombination mit 'FindDocumentsByReferenceID' ist das Dokument jederzeit erreichbar.


PAR Hinweis: Bei einem Abbruch der Übermittlung, beispielsweise durch einen schwachen Akku des Geräts des ePA-FdV, ist nicht bekannt, ob und welche Dokumente schon an das Forschungsdatenzentrum übertragen wurden. Ein ePA-FdV soll daher den Vorgang regulär beenden können, beispielsweise durch erneute Übermittlung der betroffenen Dokumente.


PAR -HEADING(ids=6.1.9.5)6.1.9.5 Aktenumzug
PAR Bei einem Wechsel des Kostenträgers (Aktenumzug) ist eine eigenständige Erteilung der Einwilligung gemäß § 363 Absatz 2 SGB V gegenüber dem neuen Kostenträger erforderlich.
PAR Diese erneute Einwilligung muss vor einem Umzug der Akte erteilt werden, wenn aktuell noch freigegebene Dokumente im Forschungsdatenzentrum vorliegen und diese Freigabe nach dem Umzug erhalten bleiben soll. Wird diese Einwilligung nicht erteilt, müssen vor dem Umzug der Akte alle freigegebenen Dokumente widerrufen werden.


PAR -HEADING(ids=6.1.10)6.1.10 Anbindung an das Nationale Gesundheitsportal
PAR Durch die Kopplung der ePA mit dem Nationalen Gesundheitsportal ([NGP]) soll dem Versicherten über das ePA-FdV, unabhängig von Gesundheitskompetenzniveau, eine Hilfestellung angeboten werden, durch die sich der Versicherte einen Zugang zu einfach verständlichen und von Experten bereitgestellten Gesundheitsinformationen verschaffen kann.
PAR Der Versicherte hat über das ePA-FdV zwei Möglichkeiten auf die Inhalte des Nationalen Gesundheitsportal zu zugreifen. Einerseits kann der Versicherte über eine selektive schlagwortbasierte Suche aus dem ePA-FdV heraus auf die Inhalte des Nationalen Gesundheitsportal zugreifen. In dem Fall, dass im ePA-Aktensystem bereits strukturierte Daten vorliegen (eingestellt durch den Versicherten und/oder berechtigte Leistungserbringer bzw. Dritte), kann der Versicherte über das ePA-FdV gezielt auf im Nationalen Gesundheitsportal liegende Informationen zu Symptomen, Diagnosen oder medizinische Fachbegriffe zugreifen.


PAR -HEADING(ids=6.2)6.2 Implementation ePA-Anwendungsfälle im FdV
PAR In diesem Kapitel wird die Umsetzung der im systemspezifischen Konzept [gemSysL_ePA] spezifizierten Anwendungsfälle im FdV beschrieben.
PAR -HEADING(ids=6.2.1)6.2.1 Übergreifende Festlegungen
PAR Voraussetzung für die Nutzung des FdV ist das Vorhandensein eines Aktenkontos:

LIST->
LITEM->PAR Der Versicherte verfügt über ein aktiviertes Aktenkonto (Anderenfalls ist ausschließlich der Anwendungsfall für die Aktivierung des Aktenkontos ausführbar.).LITEM->PAR Die Akten-ID (der RecordIdentifier) des Aktenkontos, welche sich mittels der Versicherten-ID des Aktenkontoinhabers bestimmen lässt, ist im ePA-Frontend des Versicherten  bekannt.LITEM->PAR Der FQDN für den Zugriff auf das ePA-Aktensystem ist im ePA-Frontend des Versicherten bekannt.

PAR Die Rolle des Nutzers kann durch den Vergleich der Versicherten-ID aus dem Authentisierungszertifikat der eGK (C.CH.AUT) bzw. der alternativen kryptographische Versichertenidentität (C.CH.AUT_ALT) des Nutzers mit der Versicherten-ID aus der Akten-ID bestimmt werden.
PAR -HEADING(ids=6.2.2)6.2.2 Fehlerbehandlung
PAR Tritt ein Fehler bei der Verarbeitung von Operationsaufrufen des ePA-Aktensystems auf, dann antworten die Komponenten des ePA-Aktensystems mit einer Fehlermeldung. Das Format und die verwendeten Fehlercodes sind in den Spezifikationen der Interfaces beschrieben. Weiterhin können Fehler in der lokalen Verarbeitung auftreten.

PAR Das FdV soll dem Nutzer nach einem Abbruch eine verständliche Fehlermeldung anzeigen.
PAR Wenn die Möglichkeit besteht, dass der Nutzer das fehlerverursachende Problem selbst beheben kann, kann das FdV den Nutzer auf die Lösung hinweisen. Bspw. kann dem Nutzer bei einer gesperrten PIN der Anwendungsfall "PIN der eGK entsperren" angeboten werden.




PAR -HEADING(ids=6.2.3)6.2.3 Aktivitäten
PAR Dieser Abschnitt beschreibt Aktivitäten, welche durch verschiedene Anwendungsfälle genutzt werden.
PAR -HEADING(ids=6.2.3.1)6.2.3.1 Authentisieren des Nutzers
PAR Mit dieser Operation authentisiert sich der Nutzer am ePA-Aktensystem. Das ePA-FdV erhält bei erfolgreicher Authentisierung einen Authentisierungstoken.

PAR Die Dauer der Gültigkeit des Authentisierungstoken ist in [gemSpec_Authentisierung_Vers] beschrieben.
PAR -HEADING(ids=6.2.3.2)6.2.3.2 Authentisierungstoken erneuern
PAR Mit dieser Operation kann das ePA-Frontend des Versicherten den Authentisierungstoken am ePA-Aktensystem verlängern.

PAR Der vorher genutzte Authentisierungstoken wird gelöscht.
PAR Im Fehlerfall kann die Operation wiederholt oder eine neue Authentisierung des Nutzers gestartet werden.
PAR -HEADING(ids=6.2.3.3)6.2.3.3 Dokumentenset in Dokumentenverwaltung hochladen
PAR Mit dieser Operation werden ein oder mehrere Dokumente in die Dokumentenverwaltung hochgeladen. Hierbei kann es sich entweder um durch den Nutzer ausgewählte (fachliche) Versichertendokumente oder um technische Dokumente (z.B. ein Policy Document) handeln. Eine Mischung beider Arten von Dokumenten innerhalb eines Dokumentensets ist nicht erlaubt.


PAR Für die XDS-Metadaten von Dokumenten des Versicherten gelten die Nutzungsvorgaben aus [gemSpec_DM_ePA#A_14760-*]. Für die XDS-Metadaten eines Policy Documents gelten die Nutzungsvorgaben aus [gemSpec_DM_ePA#A_14961-*].

PAR Technische Dokumente (Policy Documents) werden nach der Übertragung in das Aktenkonto durch die Dokumentenverwaltung ausgewertet.



PAR Das ePA-Aktensystem lehnt beim Einstellen von Dokumenten Requests ab, wenn die Summe der Größe der Dokumente in einem Submission Set 250 MB überschreitet. Das ePA-Frontend des Versicherten kann Einstellversuche von Dokumentensets unterbinden, wenn diese von der Dokumentenverwaltung aufgrund der Größenbeschränkung abgelehnt würden.
PAR -HEADING(ids=6.2.3.4)6.2.3.4 Dokumentenset aus Dokumentenverwaltung herunterladen
PAR Mit dieser Operation werden ein oder mehrere Dokumente anhand der Document Unique IDs aus den XDS-Metadaten aus dem Aktenkonto heruntergeladen.



PAR -HEADING(ids=6.2.3.5)6.2.3.5 Dokumentenset in Dokumentenverwaltung löschen
PAR Mit dieser Operation werden ein oder mehrere Dokumente anhand ihrer entryUUIDs aus der Dokumentenverwaltung gelöscht. Die XDS-Metadaten wurden vorab mit einer Suche nach Dokumenten im ePA-Aktensystem ermittelt.


PAR -HEADING(ids=6.2.3.6)6.2.3.6 Suche nach Dokumenten in Dokumentenverwaltung
PAR Mit dieser Operation wird eine Suchanfrage über die XDS-Metadaten der Dokumente im Aktenkonto an die Dokumentenverwaltung gesendet.



PAR Der zusätzliche Parameter "$XDSDocumentEntryTitle" filtert die Suchergebnismenge über das Attribut XDSDocumentEntry.title. Dabei ist die Angabe von Platzhaltern (wie für Suchanfragen über den Parameter $XDSDocumentEntryAuthorPerson) möglich, die sich verhält wie das SQL Schlüsselwort "LIKE" in Kombination mit den anzugeben Wildcard-Zeichen "%", um jedes beliebige Zeichen und "_", um ein einzelnes beliebiges Zeichen zu finden.
PAR Der optionale Parameter "$XDSDocumentEntryAuthorInstitution" filtert die Suchergebnismenge über das Attribut XDSDocumentEntry.authorInstitution.
PAR -HEADING(ids=6.2.3.7)6.2.3.7 Vergebene Berechtigungen bestimmen
PAR Mit dieser Operation werden die für das Aktenkonto vergebenen Berechtigungen ermittelt. Für jeden Berechtigten ist in der Komponente Autorisierung ein AuthorizationKey und in der Komponente Dokumentenverwaltung ein technisches Dokument (Policy Document) hinterlegt. Letzteres beinhaltet die Parameter der Berechtigung.


PAR Dokumente im Aktenkonto werden mittels ihrer XDS-Metadaten identifiziert. Die Nutzungsvorgaben für XDS-Metadaten zur Kennzeichnung von Policy Documents sind in [gemSpec_DM_ePA#A_14961-*] beschrieben.

PAR Das Ergebnis der Suchanfrage query:AdhocQueryResponse_Message liefert, falls Berechtigungen erteilt wurden, die XDS-Metadaten von einem oder mehreren Policy Documents (je ein Policy Document pro LEI, KTR, DiGA bzw. Vertreter). Die XDS-Metadaten beinhalten die eindeutigen Kennungen (DocumentEntry.uniqueId) der Policy Documents. Mittels dieser werden die Policy Documents im nächsten Schritt aus der Dokumentenverwaltung heruntergeladen.

PAR Als Ergebnis liegen, falls Berechtigungen erteilt wurden, ein oder mehrere AuthorizationKeys sowie Policy Documents für berechtigte LEI, KTR, DiGA und für Vertreter vor.
PAR Gemäß der Beschreibung in "" können folgende Informationen zu den Berechtigungen aus den Policy Documents bzw. den XDS-Metadaten ermittelt werden.
PAR Berechtigung für LEI: Telematik-ID, Name der LEI, Berechtigung "erteilt am", Berechtigung "gültig bis", Zugriffsrecht der LEI berechtigte Dokumentenkategorien, einzeln freigeschaltete oder geblockte Dokumente (Allowlist, Denylist)
PAR Gemäß der Beschreibung in "" können folgende Informationen zu den Berechtigungen aus den AuthorizationKeys ermittelt werden.
PAR Berechtigung für Vertreter: Versicherten-ID, Name des Vertreters
PAR Berechtigung für KTR: Telematik-ID, Name des KTR
PAR Berechtigung für DiGA: Telematik-ID, Name der DiGA
PAR Die Policy Documents lassen sich auf Basis der Versicherten-ID des Vertreters bzw. der Telematik-ID der LEI, DiGA oder KTR den AuthorizationKeys zuordnen.
PAR -HEADING(ids=6.2.3.8)6.2.3.8 AuthorizationKey
PAR Der AuthorizationKey enthält Parameter zur Berechtigung sowie die für den Berechtigten verschlüsselten Akten- und Kontextschlüssel.
PAR -HEADING(ids=6.2.3.8.1)6.2.3.8.1 Struktur AuthorizationKeyType
PAR Die Struktur AuthorizationKeyType ist in [AuthorizationService.xsd] beschrieben.
PAR Das Attribut validTo beinhaltet die Gültigkeit des AuthorizationKey, d.h. den Zeitpunkt bis zu dem die Berechtigung erteilt wird. Für eine Berechtigung ohne zeitliche Begrenzung wird ein technisches Datum (31.12.9999) verwendet.
PAR Das Attribut actorID beinhaltet die ID des Berechtigenden, d.h. die Versicherten-ID für Aktenkontoinhaber und Vertreter bzw. die Telematik-ID für LEIs, DiGA und KTR.
PAR Das Element DisplayName beinhaltet den Klartextnamen des Berechtigten oder den Namen der berechtigten DiGA.
PAR Das Element AuthorizationType beinhaltet den Berechtigungstyp. Siehe auch .
PAR Das Element phrs:AuthorizationKey/phrs:EncryptedKeyContainer enthält das Chiffrat mit dem verschlüsselten Akten- und Kontextschlüssel sowie AssociatedData.
PAR Die Datenstruktur für EncryptedKeyContainer und die Klartextpräsentation für Akten- und Kontextschlüssel ist in  beschrieben.
PAR -HEADING(ids=6.2.3.8.2)6.2.3.8.2 Schlüsselableitung für Ver- und Entschlüsselung
PAR Die Klartextpräsentation von Akten- und Kontextschlüssel im AuthoritationKey ist doppelt symmetrisch verschlüsselt. Die symmetrischen Schlüssel zur Ver- und Entschlüsselung von Akten- und Kontextschlüssel werden über die Schlüsselableitungsfunktion der Schlüsselgenerierungsdienste Typ 1 und 2 ermittelt. Die Funktionsweise der Schlüsselgenerierung wird in [gemSpec_SGD_ePA] beschrieben.

PAR Im Schritt 7 des Basisablaufs erfolgt der Aufruf für KeyDerivation abhängig vom Anwendungsfall:

TABLE(rows=5,cols=169+71+82+382)->
TR-> TH(0,0/1/1)->PAR Anwendungsfall im FdV TH(0,1/1/1)->PAR Akteur TH(0,2/1/1)->PAR Zweck TH(0,3/1/1)->PAR Anwendungsfall für SGD
TR-> TD(1,0/1/1)->PAR Aktenkonto aktivieren<br>Anbieter wechseln TD(1,1/1/1)->PAR Versicherter TD(1,2/1/1)->PAR Verschlüsseln TD(1,3/1/1)->
TR-> TD(2,0/1/1)->PAR Berechtigung für LEI vergeben<br>Vertretung einrichten<br>Berechtigung für Kostenträger vergeben<br>Berechtigung für DiGA vergeben<br>Berechtigung für LEI ändern TD(2,1/1/1)->PAR Versicherter TD(2,2/1/1)->PAR Verschlüsseln TD(2,3/1/1)->PAR  
TR-> TD(3,0/1/1)->PAR Berechtigung für LEI vergeben<br>Berechtigung für Kostenträger vergeben<br>Berechtigung für DiGA vergeben<br>Berechtigung für LEI ändern TD(3,1/1/1)->PAR Vertreter TD(3,2/1/1)->PAR Verschlüsseln TD(3,3/1/1)->
TR-> TD(4,0/1/1)->PAR Login TD(4,1/1/1)->PAR Versicherter<br>Vertreter TD(4,2/1/1)->PAR Entschlüsseln TD(4,3/1/1)->PAR Für das Entschlüsseln müssen keine Anwendungsfälle für SGD unterschieden werden. <br>Es wird das Element AssociatedData des ermittelten AuthorizationKey für den Aufruf der Operation KeyDerivation beim SGD wie folgt verwenden:<br>KeyDerivation <Teilstring aus AssociatedData für den entsprechenden SGD>
PAR Als Ergebnis bei einer erfolgreichen Schlüsselableitung zum Verschlüsseln erhält das ePA-FdV von jedem der beiden SGD eine Antwortnachricht für KeyDerivation im Format: "OK-KeyDerivation "+Key+" "+a
PAR Key ist der für die Verschlüsselung zu verwendende symmetrische Schlüssel und a entspricht AssociatedData für den entsprechenden SGD.
PAR Zur Optimierung der Performance muss das ePA-FdV die Schlüsselableitung für SGD 1 (Basisablauf Schritt 1) und SGD 2 (Basisablauf Schritt 3) und das Erzeugen eines ephemeren ECDH-Schlüsselpaares (Basisablauf Schritt 5) parallel ausführen. Der Request an SGD 1 und SGD 2 in Basisablauf Schritt 7 können ebenfalls parallelisiert werden. Die bei einer Schlüsselableitung für eine Entschlüsselung im Request für KeyDerivation zu übermittelnden Informationen werden sowohl für SGD 1 als auch SGD 2 dem Element phrs:AuthorizationKey/phrs:EncryptedKeyContainer/phrs:AssiciatedData entnommen.

PAR Siehe auch .
PAR -HEADING(ids=6.2.3.8.3)6.2.3.8.3 AuthorizationKey erstellen
PAR Für den Aktenkontoinhaber, Vertreter, DiGA und KTR wird die Berechtigung ohne zeitliche Begrenzung vergeben. Für LEI ist das Enddatum entsprechend der vom Nutzer gewählten Berechtigungsdauer zu setzen. Der für DisplayName zu verwendende Name einer LEI, einer DiGA oder eines KTR und die Telematik-ID werden aus dem Eintrag der zu berechtigenden Institution im VZD bestimmt (siehe "").


PAR Es werden bei der Autorisierung verschiedene Berechtigungstypen unterschieden. Siehe . Für Aktenkontoinhaber, Vertreter, LEIs, DiGA und KTR wird immer ein Berechtigung mit Zugriff auf die Dokumente vergeben.

PAR Akten- und Kontextschlüssel werden mit den in der Schlüsselableitung erhaltenen Schlüssel symmetrisch verschlüsselt. Es gelten die Vorgaben aus  sowie .

PAR -HEADING(ids=6.2.3.8.4)6.2.3.8.4 AuthorizationKey entschlüsseln
PAR Der AuthorizationKey für einen Versicherten (Aktenkontoinhaber oder Vertreter) enthält ein verschlüsseltes Schlüsselpaar (Akten- und Kontextschlüssel).
PAR Der Aktenschlüssel wird benötigt, um die Dokumente aus dem ePA-Aktensystem zu ver- und entschlüsseln. Der Kontextschlüssel wird benötigt, um den Verarbeitungskontext der Dokumentenverwaltung zu öffnen.
PAR Das Chiffrat phrs:AuthorizationKey/phrs:EncryptedKeyContainer/phrs:CipherText ist doppelt symmetrisch verschlüsselt. Die für die Entschlüsselung des Chiffrats benötigten zwei AES-256-Schlüssel ruft das FdV von den Schlüsselgenerierungsdiensten Typ 1 und Typ 2 gemäß [gemSpec_SGD_ePA] ab. Siehe " ". 
PAR Es gelten für das Entschlüsseln die Vorgaben aus  sowie .

PAR -HEADING(ids=6.2.3.9)6.2.3.9 Schlüsselmaterial aus ePA-Aktensystem laden
PAR Mit dieser Operation wird die Autorisierung eines Nutzers des FdV für ein Aktenkonto geprüft und die Schlüssel eines berechtigten Nutzers (bspw. Aktenkontoinhaber, berechtigter Vertreter, LEI) für den Zugriff auf die Dokumentenverwaltung heruntergeladen.

PAR Besitzt der Nutzer, für den das Schlüsselmaterial angefragt wird, keine Autorisierung für den Zugriff auf das Aktenkonto, dann beinhaltet die Response den Fehler KEY_ERROR.
PAR Wird versucht das Schlüsselmaterial für den Aktenkontoinhaber herunterzuladen und beinhaltet der Response eine AuthorizationAssertion aber kein AuthorizationKey, dann ist das Aktenkonto des Versicherten noch nicht aktiviert. Das Aktivieren kann über die Anwendungsfälle "Aktenkonto aktivieren" oder "Anbieter wechseln" erfolgen.
PAR -HEADING(ids=6.2.3.10)6.2.3.10 Schlüsselmaterial aller Berechtigten aus ePA-Aktensystem laden
PAR Mit dieser Operation wird das Schlüsselmaterial für alle Berechtigten des Aktenkontos heruntergeladen. Im Response werden keine AuthorizationAssertion übertragen.

PAR -HEADING(ids=6.2.3.11)6.2.3.11 Schlüsselmaterial im ePA-Aktensystem speichern
PAR Mit dieser Operation wird Schlüsselmaterial (AuthorizationKey) für den Aktenkontoinhaber, einen Vertreter oder eine LEI in der Komponente Autorisierung des ePA-Aktensystems gespeichert. Beim Operationsaufruf für einen Vertreter wird eine Benachrichtigungsadresse (E-Mail) für die Geräteautorisierung hinterlegt (Parameter NotificationInfoRepresentative).

PAR Wenn die Operation den Fehler KEY_ERROR meldet, dann ist bereits ein Schlüssel in der Autorisierung hinterlegt. Dies kann bspw. bei einer Berechtigung der Fall sein, wenn die Berechtigung bereits zuvor erfolgreich erteilt wurde, oder wenn bei einem vorherigen Versuch die Berechtigung einzurichten ein Fehler auftrat, nachdem Schlüsselmaterial erfolgreich hinterlegt wurde (bspw. das zugehörige Policy Document nicht erfolgreich in der Dokumentenverwaltung hinterlegt werden konnte).

PAR -HEADING(ids=6.2.3.12)6.2.3.12 Schlüsselmaterial im ePA-Aktensystem ersetzen
PAR Mit dieser Operation wird vorhandenes Schlüsselmaterial (AuthorizationKey) für den Aktenkontoinhaber, einen Vertreter oder eine LEI in der Komponente Autorisierung des ePA-Aktensystems ersetzt.

PAR -HEADING(ids=6.2.3.13)6.2.3.13 Schlüsselmaterial im ePA-Aktensystem löschen
PAR Mit dieser Operation wird vorhandenes Schlüsselmaterial (AuthorizationKey) für einen Vertreter oder eine LEI in der Komponente Autorisierung des ePA-Aktensystems gelöscht.

PAR -HEADING(ids=6.2.3.14)6.2.3.14 Leistungserbringerinstitution im Verzeichnisdienst der TI finden
PAR Informationen zu Leistungserbringern und Leistungserbringerinstitutionen sind im Verzeichnisdienst (VZD) der TI-Plattform hinterlegt. Der Nutzer der FdV kann (bspw. für die Vergabe von Berechtigungen an LEI) mit verschiedenen Kriterien nach LE und LEI im VZD suchen und Informationen abrufen. Das Informationsmodell des Verzeichnisdienstes ist in [gemSpec_VZD#5] beschrieben.
PAR Die Suche nach LE oder LEIs erfolgt primär über den Namen oder Institutionennamen aber auch über zusätzliche Informationen wie Adressen, Fachgebiet oder Institutionstyp.

PAR Da nur Leistungserbringerinstitutionen und keine einzelnen Leistungserbringer für den Zugriff auf ein Aktenkonto berechtigt werden können, müssen die durch den Nutzer eingegebenen Suchparameter ggf. für die VZD-Abfrage so ergänzt werden, dass nur Informationen zu Leistungserbringerinstitutionen abgefragt werden. Dies kann anhand des Parameters entryType=3 oder, wenn spezifischere Informationen zur Art der Leistungserbringerinstitution vorliegen, über den Parameter professionOID im Wertebereich gemäß [gemSpec_VZD#Tab_VZD_Mapping_Eintragstyp Eingangstyp 3] erfolgen.
PAR Die VZD-Abfrage wird gemäß der übergreifenden Aktivität "Suchanfrage Verzeichnisdienst der TI" durchgeführt.
PAR -HEADING(ids=6.2.3.15)6.2.3.15 DiGA im Verzeichnisdienst der TI finden
PAR Informationen zu DiGAs sind im Verzeichnisdienst (VZD) der TI-Plattform hinterlegt. Der Nutzer der FdV kann (bspw. für die Vergabe von Berechtigungen an eine DiGA) mit verschiedenen Kriterien nach DiGAs im VZD suchen und Informationen abrufen. Das Informationsmodell des Verzeichnisdienstes ist in [gemSpec_VZD#5] beschrieben.

PAR Das Ergebnis kann eine Liste von Apps unterschiedlicher Hersteller sein, aus welcher der Versicherte diejenige DiGA auswählt, die er berechtigen möchte. Eine genauere Eingrenzung der Suchergebnisse kann am FdV über organizationName (Name des DiGA-Herstellers) und commonName (Name der DiGA) erfolgen.
PAR Das Verschlüsselungszertifikat im Ergebnis der Abfrage beinhaltet die Telematik-ID des zu berechtigenden DiGA-Herstellers und den Namen der DiGA.
PAR -HEADING(ids=6.2.3.16)6.2.3.16 Suchanfrage Verzeichnisdienst der TI
PAR Der VZD der TI ist für Suchoperationen des ePA-Frontend des Versicherten  über das Zugangsgateway des Versicherten erreichbar, welches als LDAP-Proxy agiert. Das ePA- FdV nutzt zur Abfrage des VZD den Standard Directory Services Makeup Language v2.0 [DSML2.0].

PAR Für das Datenmodell des LDAP-Verzeichnis siehe [gemSpec_VZD].

PAR Für ein Beispiel für eine Suchanfrage und ein Ergebnis siehe .
PAR Die Anzahl der Einträge im Ergebnis der Suchabfrage wird durch den VZD beschränkt. (siehe ) 
PAR Die Anzahl der möglichen Anfragen an den Verzeichnisdienst ist begrenzt (default: 10 Anfragen pro Minute). Wird die Anzahl überschritten, beinhaltet der HTTP-Response des Zugangsgateway des Versicherten den HTTP-Statuscode 429 entsprechend RFC6585 Kapitel 4 "429 Too Many Requests". Der Response mit dem HTTP-Statuscode 429 stellt keinen Fehler dar. Der Anwendungsfall wird nicht abgebrochen. Das FdV muss den Nutzer informieren, dass der nächste Request erst nach einer Verzögerung möglich ist.
PAR Die im dsmlEnvelopeResponse gelieferten Informationen beinhalten die Informationen zum Name der Institution und Verschlüsslungszertifikate, welche für die Vergabe von Berechtigungen weiterverarbeitet werden.
PAR Der Name einer Institution oder einer DiGA wird aus dem Basisdatensatz Attribut displayName bestimmt. Die Telematik-ID einer Institution oder einer DiGA wird aus einem Verschlüsselungszertifikat des Datensatzes bestimmt (siehe [gemSpec_PKI]).
PAR -HEADING(ids=6.2.3.17)6.2.3.17 PIN-Eingabe für eGK durch Nutzer
PAR Mit dieser Operation wird der Nutzer zur fachlich motivierten PIN-Eingabe für seine eGK aufgefordert.
PAR Zusätzlich kann bei Nutzung einer eGK eine PIN-Eingabe für die Berechtigung zum Zugriff auf Daten auf der eGK notwendig sein. In dem Fall wird die Aufforderung zur PIN-Eingabe durch den CardProxy ausgelöst.


PAR -HEADING(ids=6.2.4)6.2.4 Nutzerzugang ePA
PAR -HEADING(ids=6.2.4.1)6.2.4.1 Login Aktensession
PAR Mit diesem Anwendungsfall wird die Aktensession eines Nutzers im FdV gestartet. Der Sessionstart erfolgt implizit, falls die Verbindung zum ePA-Aktensystem bei Ausführung eines fachlichen Anwendungsfalls der ePA erforderlich ist und nicht besteht oder explizit beim Start des FdV durch den Nutzer.
PAR Für die Anmeldung des Nutzers mit seiner eGK wird eine 2-Faktor-Authentisierung (eGK + PIN) verwendet. Als weitere Möglichkeit kann die alternative kryptographische Versichertenidentität genutzt werden. Nach erfolgreicher Authentisierung inklusive Gültigkeitsprüfung der eGK und Autorisierung wird das empfängerverschlüsselte Schlüsselmaterial heruntergeladen und das Öffnen des Aktenkontextes in der Komponente "Dokumentenverwaltung" für das referenzierte Aktenkonto durchgeführt.
PAR Bei der Anmeldung eines Nutzers als Vertreter oder bei der Anmeldung des Versicherten bei seinem alten Aktensystem während des Anbieterwechsels erfolgt das Login immer explizit. Dabei unterstützt das ePA-Frontend des Versicherten den Benutzer bei der Auswahl des Aktensystems des zu Vertretenen.


PAR Abbildung #: Aktivitätsdiagramm "Login Aktensession"

PAR Gültige Session-Daten liegen vor, wenn die Session-Daten einen Authentisierungstoken und einen Autorisierungstoken beinhalten. Auf eine Prüfung der zeitlichen Gültigkeit der Token wird verzichtet, da eine Synchronität der Systemzeit in der Ablaufumgebung des ePA-FdV mit der den Token ausstellenden Komponente nicht sichergestellt werden kann. Antwortet das ePA-Aktensystem auf einen Operationsaufruf mit dem Fehler, dass ein Token ungültig ist, dann löscht das ePA-FdV die Token aus den Session-Daten (siehe [A_15310-01]A_15310-01). 


PAR Authentisieren und Autorisieren

PAR Während der Entschlüsselung des Akten-und Kontextschlüssels werden Zertifikate der TI geprüft. Zuvor ist die Aktualität des Vertrauensraumes der TI sicher zu stellen. Siehe "".

PAR Aktivieren und Migration
PAR Wenn die Autorisierung eine AuthorizationAssertion aber kein AuthorizationKey liefert, dann ist das Aktenkonto des Versicherten noch nicht aktiviert. Das Aktivieren kann über die Anwendungsfälle "Aktenkonto aktivieren" oder "Anbieter wechseln" erfolgen.
PAR Der Status des Aktenkontos (RecordState) lässt sich aus dem Autorisierungstoken Attribut Assertion/AttributeStatement/Attribute mit dem Namen "Zustand des Kontos" ermitteln. Die Information wird in die Session-Daten übernommen.


PAR Dem Nutzer soll im Falle dieses Abbruchs ein Hinweis gegeben werden, dass vor der Nutzung des Aktenkontos beim neuen Anbieter eine Migration der Daten aus dem Aktenkonto des alten Anbieters durchgeführt werden muss.
PAR Verbindung zur Dokumentenverwaltung
PAR Für die Aktivität "Aktenkonto öffnen" wird zuerst ein sicherer Kanal auf Inhaltsebene zwischen dem ePA-FdV und der VAU der Dokumentenverwaltung aufgebaut. Dafür wird die Schnittstelle I_Document_Management_Connect der Komponente Dokumentenverwaltung genutzt (siehe auch ).


PAR Das ePA-FdV nutzt den abgeleiteten Sitzungsschlüssel, um alle fachlichen Eingangs- und Ausgangsnachrichten zur Dokumentenverwaltung zu ver- bzw. entschlüsseln. Siehe [A_15304-01]A_15304-01.

PAR Benachrichtigungen
PAR Die Anzeige von Benachrichtigungen im Anwendungsfall "Login Aktensession" ist optional gemäß den Konfigurationsdaten. Wird das Login nicht explizit mit dem Start des FdV ausgeführt, sondern erst bei Ausführung eines Anwendungsfalls mit Zugriff auf das ePA-Aktensystem, dann muss der Nutzer zuerst bestätigen, ob die Benachrichtigungen innerhalb des aufgerufenen Anwendungsfalls angezeigt werden sollen.




PAR Es gilt die folgende Anforderung aus dem Anwendungsfall "Protokolldaten einsehen" für die Darstellung der Benachrichtigung: "".

PAR -HEADING(ids=6.2.4.2)6.2.4.2 Logout Aktensession
PAR Dieser Anwendungsfall beendet eine Aktensession.




PAR Eine Beschreibung der signaturdienstspezifischen Schnittstelle für diese Operation ist in [vesta].

PAR Die Session-Daten sind in "" beschrieben.
PAR -HEADING(ids=6.2.5)6.2.5 Aktenkontoverwaltung
PAR -HEADING(ids=6.2.5.1)6.2.5.1 Aktenkonto aktivieren
PAR Der Anwendungsfall "Aktenkonto aktivieren" wird automatisch gestartet, wenn sich beim Login nach der Autorisierung ergibt, dass das Aktenkonto den Status "REGISTERED" hat.
PAR Der Anwendungsfall kann in der GUI auswählbar sein. Dann ist vorab der Anwendungsfall "Login Aktensession" auszuführen.

PAR Im Rahmen des Login wird eine Authentisierung und Autorisierung des Nutzers durchgeführt.



PAR Für das Erzeugen von Schlüsseln ist  und  zu beachten.


PAR Nach erfolgreichem Aufruf dieser Operation hat das Aktenkonto den Status aktiviert. Die folgenden Aktivitäten ermöglichen, dass der Nutzer ohne erneutes Login fachliche Anwendungsfälle (bspw. Berechtigung vergeben, Dokument einstellen) mit dem Aktenkonto ausführen kann.
PAR Das Laden des Schlüsselmaterial aus ePA-Aktensystem laden erfolgt gemäß [A_15344-01]A_15344-01.
PAR Das Öffnen des Aktenkontext erfolgt gemäß [A_15347-01]A_15347-01 und [A_15348-01]A_15348-01.
PAR -HEADING(ids=6.2.5.2)6.2.5.2 Anbieter wechseln
PAR Ein Versicherter kann mit diesem Anwendungsfall den Anbieter seines Aktenkontos wechseln und alle Inhalte zu einem neuen Anbieter übertragen. Hierfür sind mehrere Aktionen durch den Versicherten durchzuführen.

LIST->
LITEM->PAR Kündigung des bestehenden Aktenkontos beim alten AnbieterLITEM->PAR Registrierung eines neuen Aktenkontos bei einem neuen AnbieterLITEM->PAR Bestätigung vom neuen Anbieter erhalten, dass das neue Aktenkonto zur Datenübernahme vorbereitet istLITEM->PAR Übernahme der Daten vom Aktenkonto des alten Anbieters zum neuen Anbieter im FdV




PAR Die Anzeige der zugriffsberechtigten LEIs und, Vertreter erfolgt mittels Anwendungsfall "Vergebene Berechtigungen anzeigen". Das Ergebnis der Operation I_Authorization_Management_Insurant::getAuthorizationList wird im weiteren Verlauf für die Einrichtung der Berechtigungen im neuen Aktenkonto genutzt.


PAR Abbildung #: Aktivitätsdiagramm "Anbieter wechseln"

PAR Nachdem das Aktenkonto den Zustand SUSPENDED ("bereit für Anbieterwechsel") erhalten hat, kann der Versicherte oder ein berechtigter Nutzer nicht mehr auf das Aktenkonto zugreifen.

PAR Das Authentisieren des Nutzers erfolgt mittels der übergreifenden Aktivität "Authentisieren des Nutzers".
PAR Die Autorisierung des Nutzers erfolgt gemäß [A_15344-01]A_15344-01. Die Operation getAuthorizationKeys liefert ein Autorisierungstoken mit RecordState = REGISTERED_FOR_MIGRATION und kein Schlüsselmaterial.
PAR Der Aufbau des sicheren Kanals zur Dokumentenverwaltung erfolgt gemäß A_15347-*.
PAR Das Öffnen des Aktenkontextes erfolgt gemäß [A_15348-01]A_15348-01  unter Nutzung des Autorisierungstoken mit RecordState = REGISTERED_FOR_MIGRATION und dem Kontextschlüssel des Aktenkontos des alten Anbieters.

PAR Hinweis: Das ENC-VAU-Zertifikat des Betreibers darf im ePA-FdV persistent gespeichert werden.


PAR Die bestehenden Berechtigungen werden in das ePA-Aktensystem des neuen Anbieters übernommen.


PAR Die Berechtigung für einen Vertreter kann nur übernommen werden, wenn dem Versicherten die E-Mailadresse des Vertreters für die Geräteautorisierung bekannt ist. Hierbei wird davon ausgegangen, dass es sich bei dem Vertreter um eine Vertrauensperson handelt und der Versicherte die Daten kennen könnte. Anderenfalls kann die Berechtigung für den Vertreter nicht übernommen werden und muss mittels dem Anwendungsfall "Vertretung einrichten" zusammen mit dem Vertreter neu eingerichtet werden.


PAR Das Hochladen des Schlüsselmaterials in das ePA-Aktensystem erfolgt mit der übergreifende Aktivität "Schlüsselmaterial im ePA-Aktensystem speichern" mit dem EingangsparameterAuthorizationKey = erstellter AuthorizationKey. Der optionale Parameter NotificationInfoRepresentative wird für LEI, DiGA und KTR nicht belegt.
PAR Die Information, welche Geräte durch Nutzer autorisiert sind, wird nicht übertragen. D.h. der Nutzer muss bei der nächsten Anmeldung am Aktenkonto des neuen Anbieters sein GdV autorisieren.

PAR Der Vorgang des Anbieterwechsels erfolgt aktensystemseitig asynchron, d. h. die Operation ist aus Sicht des FdV nach kurzer Zeit abgeschlossen, läuft im Backend jedoch weiter. Der Nutzer ist darauf hinzuweisen, dass er Zugriff auf sein Aktenkonto erst nach Abschluss der Datenmigration erhalten kann und dass diese länger dauern kann.
PAR -HEADING(ids=6.2.5.3)6.2.5.3 Schließen einer Akte
PAR Der Versicherte hat jederzeit das Recht, seine ePA endgültig zu schließen.


PAR -HEADING(ids=6.2.6)6.2.6 Umschlüsselung
PAR Dieses Kapitel beschreibt den Anwendungsfall Umschlüsselung. In den folgenden Abbildungen ist in einem Sequenzdiagramm der Ablauf der Umschlüsselung mit den einzelnen Akteuren ePA-FdV, Autorisierung, Dokumentenverwaltung und SGD1/2 dargestellt. Grün eingefärbte Pfeile bezeichnen signierte Rückgabewerte. Die Signaturen werden bei der Weiterleitung der Rückgabewerte mit an den Empfänger geleitet. Dieser validiert nach Empfang des Wertes und der Signatur diese auf Gültigkeit und darauf, dass der Signaturerstellungszeitpunkt nicht zu weit in der Vergangenheit liegt.

PAR Abbildung #: Umschlüsselung I

PAR Abbildung #: Umschlüsselung II

PAR Abbildung #: Umschlüsselung III

PAR Abbildung #: Umschlüsselung IV

PAR Wenn das Frontend des Versicherten auf einem Smartphone läuft, dann kann es durchaus die Verbindung in einem Funkloch verlieren und nach kurzer Zeit wieder herstellen. Weiterhin kann es sein, dass das Smartphone sich wegen erschöpften Akkumulators abschaltet und der Nutzer es innerhalb kurzer Zeit an das Ladegerät anschließt und die Umschlüsselung fortsetzen möchte. Diese Verbindungsabbrüche sollen nicht zum Abbrechen des Umschlüsselungsprozesses  führen.

PAR Die Komponenten Autorisierung und Dokumentenverwaltung führen nach Erhalt der Nachricht finishKeyChange(FALSE) die Methode Rollback() durch und stellen den Zustand von vor der Umschlüsselung wieder her.


PAR Das Aktensystem lehnt im Zustand KEY_CHANGE alle sonstigen Aktivitäten vom FdV ab, daher sollte das FdV dem Benutzer auch keine weiteren Aktivitäten anbieten.

PAR -HEADING(ids=6.2.7)6.2.7 Berechtigungsverwaltung
PAR Dieses Kapitel beschreibt Anwendungsfälle zur Vergabe und Administration von Berechtigungen zum Zugriff auf das Aktenkonto.
PAR Im FdV können nur Berechtigungen an LEI und DiGA vergeben werden, die im Verzeichnisdienst (VZD) der TI registriert sind.
PAR Die zulässigen Berechtigungsvergaben für die verschiedenen Leistungserbringerinstitutionen, Kostenträger, DiGA und Vertreter werden vom Aktensystem durchgesetzt. Das ePA-Frontend des Versicherten kann die grundsätzlich gesetzlich möglichen Berechtigungsvergaben nicht erweitern, sondern nur weiter einschränken.

PAR Die Anzeige kann z.B. als Hilfetext vom Nutzer bei der Berechtigungsvergabe erreichbar sein.

PAR Für die Umsetzung der Suche siehe " ". 










PAR Für Informationen zu Policy Documents und deren Nutzungsvorgaben siehe "".


PAR Damit kann der Versicherte vor dem Besuch einer Leistungserbringerinstitution kontrollieren, auf welche Dokumente die Leistungserbringerinstitution lesenden bzw. löschenden Zugriff während der Behandlung hat.

PAR -HEADING(ids=6.2.7.1)6.2.7.1 Spezifische Zugriffsregeln
PAR Das Aktensystem setzt folgende Regeln um: Die kategorienbasierte Berechtigung in Form eines Policy Document berechtigt eine LEI abhängig von den Zugriffsunterbindungsregeln auch zum Einstellen eines Dokuments. Diese Autorisierung kann über Vertraulichkeitsstufen weiter eingeschränkt werden. Der lesende Zugriff auf Dokumente und Ordner kann weiterhin feingranular gewährt oder entzogen werden ("Allowlisting" und "Denylisting).
PAR -HEADING(ids=6.2.7.1.1)6.2.7.1.1 kategorienbasierte Berechtigung
PAR Bei der kategorienbasierten Berechtigung wird der Zugriff auf die vorhandenen Dokumente der elektronischen Patientenakte in Dokumentenkategorien organisiert. Diese sind in der Spezifikation gemSpec_DM_ePA aufgeführt. Die Zuordnung eines einzelnen Dokumentes zu einer einzelnen Dokumentenart legt (mit Ausnahme der Dokumentenarten Dokumente des Versicherten, Dokumente einer DiGA und der Kostenträgerdokumente) die ePA-Dokumentenverwaltung fest. Alle Dokumente, die der Versicherte selbst einstellt, sind immer der Kategorie Dokumente des Versicherten zugeordnet.  Eine DiGA kann ausschließlich DiGA-Dokumente einstellen. Ein Kostenträger kann ausschließlich Kostenträgerdokumente einstellen.<br>Der Versicherte kann über das ePA-Frontend des Versicherten einer einzelnen Leistungserbringerinstitution den Zugriff auf einzelne Dokumentenkategorien erteilen oder entziehen.




PAR Wenn die Nutzerin des ePA-Frontend des Versicherten als Leistungserbringerinstitution eine Hebamme auswählt, dann hat diese weniger mögliche Zugriffsrechte als zum Beispiel ein Hausarzt. Das  ePA-Frontend des Versicherten darf dann für die Hebamme nur die nach [gemSpec_Dokumentenverwaltung#Tab_Dokv_030 - Zugriffsunterbindungsregeln] möglichen Berechtigungen anzeigen.


PAR Damit kann der Nutzer vor dem Besuch einer Leistungserbringerinstitution sehen, welche Dokumentenkategorien der ePA bei der LEI sichtbar sind.
PAR Ein Dokument kann sich in einer Dokumentenkategorie befinden, für die eine Leistungserbringerinstitution zugriffsberechtigt ist, über die dokumentenspezifische Berechtigung könnte der Leistungserbringerinstitution hingegen der Zugriff auf dieses Dokument entzogen worden sein. Im Resultat wird von der ePA-Dokumentenverwaltung durchgesetzt, dass diese Leistungserbringerinstitution keinen Zugriff auf das Dokument hat. 




PAR Bei der kategorienbasierten Berechtigung kann der Zugriff auf die vorhandenen Dokumente einer Dokumentenkategorie weiterhin in drei Vertraulichkeitsstufen näher festgelegt werden. Dabei werden die Vertraulichkeitsstufen normal, vertraulich und streng vertraulich verwendet. Eine einzelne Leistungserbringerinstitution kann entweder Zugriff auf alle Dokumente der Vertraulichkeitsstufe normal oder auf die Vertraulichkeitsstufen normal und vertraulich erhalten. Es ist auch möglich, einen generellen Zugriff auf diese beiden oder einer der beiden Vertraulichkeitsstufen zu vergeben. Dazu müssen in einer Autorisierung zusammen mit einer Vertraulichkeitsstufe alle Dokumentenkategorien für einen Zugriff ausgewählt werden.
PAR Der Zugriff auf Dokumente der Vertraulichkeitsstufe streng vertraulich ist der Leistungserbringerinstitution nur dann möglich, wenn eine gesonderte Freigabe über eine Allowlist vorgenommen wird.
PAR Eine einmal getroffene Entscheidung bezüglich der Zuordnung eines Dokumentes zu einer Vertraulichkeitsstufe und bezüglich des Zugriffs einer Leistungserbringerinstitution kann vom Versicherten durch das ePA-Frontend des Versicherten jederzeit revidiert werden. 


PAR Beim Aufruf von I_Document_Management_Insurant::RestrictedUpdateDocumentSet muss immer für "previousVersion" in der Nachricht der Wert "1" angegeben werden, da der Aufruf seitens der ePA-Dokumentenverwaltung nicht für eine echte Versionierung des alten Dokuments genutzt wird. Serverseitig wird DocumentEntry.version entsprechend nicht verwaltet und besitzt standardmäßig deshalb immer den impliziten Wert 1.

PAR Das Abspeichern des Defaultwertes erfolgt lokal im ePA-FdV, d.h. bei Nutzung eines weiteren Gerätes ist dieser Defaultwert nicht bekannt.




PAR Eine Leistungserbringerinstitution, welche das einfache Zugriffsrecht erteilt wurde, hat nur Zugriff auf Dokumente in der ePA mit der Vertraulichkeitsstufe normal. Eine Leistungserbringerinstitution, welcher das erweitere Zugriffsrecht erteilt wurde, hat nur Zugriff auf Dokumente in der ePA mit den Vertraulichkeitsstufen normal und vertraulich.  

PAR Mögliche Anzeigen wäre z. B: "LEI hat erweitertes Zugriffsrecht mit Freigabe der Kategorie Arztbrief und wurde nicht explizit einzeln ausgeschlossen.", "LEI hat explizite Einzelfreigabe für dieses Dokument.", "LEI hat kein Zugriffsrecht für dieses Dokument"








PAR -HEADING(ids=6.2.7.1.2)6.2.7.1.2 Dokumentenspezifische Berechtigung
PAR Bei der dokumentenspezifischen oder feingranularen Berechtigung wird der Zugriff einer Leistungserbringerinstitution auf die vorhandenen Dokumente der elektronischen Patientenakte auf der Ebene einzelner Dokumente organisiert. Dazu erzeugt das ePA Frontend des Versicherten für jedes freizugebende Dokument (d.h. intern pro documentEntry.entryUUID) einen Eintrag auf einer sogenannten Allowlist, um einen Zugriff zu gewähren. Ein explizites Verbot kann der Versicherte über eine sogenannte Denylist aussprechen. Auf einer Allow- oder Denylist kann auch ein Ordner (d.h. intern pro Folder.entryUUID) der Sammlungstypen uniform und mixed stehen, um z.B. bei potentiell mehreren Pässen spezifische Zugriffe zu untersagen (welche u.U. durch eine Freigabe über die Dokumentenkategorien möglich wären).  Beim Aktualisieren der Allowlist- oder Denylist-Einträge muss das ePA-Frontend des Versicherten sicherstellen, dass diese Policies keine widersprüchlichen Einträge enthalten.










PAR -HEADING(ids=6.2.7.2)6.2.7.2 Vertretung einrichten
PAR Mit diesem Anwendungsfall richtet ein Versicherter (Aktenkontoinhaber) eine Zugriffsberechtigung für einen Vertreter ein. Dieser Vertreter muss über eine eigene gültige eGK verfügen und den PIN seiner eGK kennen oder eine alternative Authentisierung für ein geeignetes FdV auf seinem GdV eingerichtet haben. Der Anwendungsfall steht einem berechtigten Vertreter nicht zur Verfügung.
PAR Zur Verbesserung des Datenschutzes muss die Vertretung zusätzlich über eine E-Mail durch den Versicherten bestätigt werden.
PAR Vor der Berechtigung müssen der Name, die Versicherten-ID sowie die E-Mailadresse des Vertreters für die Geräteautorisierung erfasst werden.

PAR Die Berechtigungsdauer für Vertreter kann nicht zeitlich oder inhaltlich begrenzt werden. Wenn ein Vertreter berechtigt ist, auf die Dokumente zuzugreifen, dann kann der Vertreter dauerhaft auf alle Dokumente im Aktenkonto zugreifen, bis ihm die Berechtigung generell wieder entzogen wird.


PAR Falls der Vertreter die Vertretung nicht ausschließlich in einer LEI sondern auch an einem FdV wahrnehmen möchte, muss in der folgende Aktivität die Benachrichtigungsadresse des Vertreters für die Geräteautorisierung an das Aktensystem übergeben werden, da der Vertreter sich ansonsten von seinem FdV nicht autorisieren kann. 


PAR Für Informationen zu Policy Documents und deren Nutzungsvorgaben siehe " ".

PAR Dem Versicherten kann ein Hinweis angezeigt werden, dass zum Abschluss eine Autorisierung der Vertretung über eine E-Mail erfolgen muss, welche dem Versicherten vom Aktensystem zugesandt wird. 
PAR Nach der Einrichtung der Vertretung teilt der Versicherte dem Vertreter die Informationen mit, welche der Vertreter in seinem FdV konfigurieren muss, um auf das Aktenkonto zugreifen zu können. Diese Informationen können der Konfiguration des ePA-FdV entnommen werden.

PAR Zur Unterstützung kann das FdV bspw. zusätzlich eine E-Mail (an die Benachrichtigungsadresse zur Geräteautorisierung) bereitstellen, um die Informationen zu übermitteln.


PAR -HEADING(ids=6.2.7.3)6.2.7.3 Berechtigung für Kostenträger vergeben
PAR Mit diesem Anwendungsfall richtet ein Versicherter oder ein berechtigter Vertreter Zugriffsberechtigungen auf das Aktenkonto für einen Kostenträger ein. Der Zugriff eines KTR ist auf das Einstellen und Aktualisieren von Dokumenten beschränkt.






PAR Für Informationen zu Policy Documents und deren Nutzungsvorgaben siehe "".

PAR -HEADING(ids=6.2.7.4)6.2.7.4 Vergebene Berechtigungen anzeigen
PAR Mit diesem Anwendungsfall kann ein Nutzer eine Liste der für das Aktenkonto vergebenen Berechtigungen anzeigen lassen. Diese Liste beinhaltet die zugriffsberechtigten Leistungserbringer, die berechtigten Vertreter und zugriffsberechtigte Kostenträger sowie die Details zu Berechtigungen (für LEI: Berechtigungsdauer, Zugriff auf durch den Versicherten eingestellte Dokumente).



PAR Das Ergebnis der Suche soll für den Nutzer sortierbar und filterbar dargestellt werden.

PAR Das lokale Speichern kann im PDF-Format angeboten werden.
PAR Das FdV ermöglicht es dem Nutzer, über Einträge in der Ergebnisliste Berechtigungen zu bearbeiten oder zu löschen.
PAR -HEADING(ids=6.2.7.5)6.2.7.5 Eingerichtete Vertretungen anzeigen
PAR Mit diesem Anwendungsfall kann ein Nutzer eine Liste der Versicherten anzeigen lassen, für die im ePA-Frontend des Versicherten die Wahrnehmung der Vertretung durch ihn konfiguriert ist ("ich bin Vertreter für"). Es wird dabei nicht geprüft, ob im Aktenkonto des zu Vertretenden auch tatsächlich eine Berechtigung für den Nutzer vorliegt.

PAR -HEADING(ids=6.2.7.6)6.2.7.6 Bestehende Berechtigungen verwalten
PAR -HEADING(ids=6.2.7.6.1)6.2.7.6.1 Berechtigung für LEI ändern
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter die Parameter für eine berechtigte LEI ändern.

PAR Die zum Zugriff auf das Aktenkonto berechtigten LEIs werden mit der übergreifenden Aktivität "Vergebene Berechtigungen bestimmen" ermittelt.
PAR Wenn die Berechtigungsdauer geändert wird, dann muss ein neuer AuthorizationKey auf Basis eines Verschlüsselungszertifikates der LEI erzeugt werden. Ein Verschlüsselungszertifikat kann mit der Aktivität "Suchanfrage Verzeichnisdienst der TI" mit dem Suchkriterium Telematik-ID ermittelt werden. Die Telematik-ID der LEI lässt sich aus dem Policy Document bestimmen.

PAR Das Policy Document der LEI steht aus der Aktivität "Vergebene Berechtigungen bestimmen" zur Verfügung.

PAR Die Anpassung des AuthorizationKey muss nur erfolgen, wenn die Berechtigungsdauer für die LEI geändert wurde.



PAR Die Dokumentenverwaltung verarbeitet das Policy Document und überschreibt die vorher geltenden Regeln.
PAR -HEADING(ids=6.2.7.6.2)6.2.7.6.2 Berechtigung für LEI löschen
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter einer berechtigten LEI die Berechtigung entziehen.

PAR Die zum Zugriff auf das Aktenkonto berechtigten LEIs werden mit der übergreifende Aktivität "Vergebene Berechtigungen bestimmen" ermittelt.


PAR Die Telematik-ID der LEI kann aus dem Policy Document bestimmt werden.

PAR -HEADING(ids=6.2.7.6.3)6.2.7.6.3 Berechtigung für Vertreter löschen
PAR Mit diesem Anwendungsfall kann ein Versicherter einem berechtigten Vertreter die Berechtigung entziehen. Ferner soll es einem Vertreter auch möglich sein, sich seine eigene Berechtigung zu entziehen.

PAR Die zum Zugriff auf das Aktenkonto berechtigten Vertreter werden mit der übergreifende Aktivität "Vergebene Berechtigungen bestimmen" ermittelt.


PAR Die Versicherten-ID für den Vertreter kann aus dem AuthorizationKey bestimmt werden.

PAR -HEADING(ids=6.2.7.6.4)6.2.7.6.4 Berechtigung für Kostenträger löschen
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter dem Kostenträger die Berechtigung entziehen.

PAR Die zum Zugriff auf das Aktenkonto berechtigten KTR werden mit der übergreifende Aktivität "Vergebene Berechtigungen bestimmen" ermittelt.


PAR Die Telematik-ID des Kostenträgers kann aus dem Policy Document bestimmt werden.

PAR -HEADING(ids=6.2.7.7)6.2.7.7 Berechtigung für DiGA löschen
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter der DiGA die Berechtigung auf die elektronische Patientenakte entziehen.

PAR Hinweis: Die zum Zugriff auf das Aktenkonto berechtigten DIGA werden mit der übergreifende Aktivität "Vergebene Berechtigungen bestimmen" ermittelt.


PAR Hinweis: Die Telematik-ID der DiGA kann aus dem Policy Document bestimmt werden.

PAR -HEADING(ids=6.2.7.8)6.2.7.8 Berechtigungen für DiGA vergeben
PAR Mit diesem Anwendungsfall richtet ein Versicherter oder ein berechtigter Vertreter Zugriffsberechtigungen auf das Aktenkonto für jede einzelne DiGA ein. Die Zugriffrechte einer DiGA sind auf das Einstellen und Aktualisieren von Dokumenten beschränkt..

PAR Hinweis: Der Name der DiGA entspricht dem displayName aus [gemSpec_VZD#Tabelle 29].





PAR -HEADING(ids=6.2.8)6.2.8 Dokumentenverwaltung
PAR -HEADING(ids=6.2.8.1)6.2.8.1 Dokumente einstellen
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter Dokumente in die ePA hochladen.

PAR Die für die Dokumente potentiell zugriffsberechtigten LEI werden mittels der übergreifenden Aktivität "Vergebene Berechtigung bestimmen" ermittelt.
PAR Optional können zusätzlich auch die zugriffsberechtigten Vertreter angezeigt werden. Die Abfrage dient der Kontrolle der vergebenen Zugriffsberechtigungen durch den Nutzer.
PAR Zugriffsberechtigt sind alle Vertreter und alle LEI mit der Berechtigung für vom Versicherten eingestellte Dokumente.



PAR Für Festlegungen zur Eingabe von Metadaten siehe " ".
PAR Das ePA-Frontend des Versicherten kann eine Prüfung der Metadaten auf Vollständigkeit und Korrektheit durchführen und den Nutzer bei fehlenden oder falschen Werten zur Korrektur auffordern.


PAR Das ePA-Aktensystem unterstützt nur Dokumente mit bestimmten MIME Types. Die initial zulässigen Typen sind in [gemSpec_DM_ePA#A_] beschrieben. Die Dokumentenverwaltung prüft jedes Dokument anhand der Metadaten beim Hochladen der Dokumente und antwortet mit einem Fehler, wenn der Dokumenttyp nicht unterstützt wird.

PAR Das bedeutet, dass Dokumente bis zu einer Größe von 25 MB = 25 * (1024)^2 Byte in die ePA hochgeladen werden. Grundlage für die Berechnung der Dokumentengröße ist das Dokument ohne Verschlüsselung durch den Dokumentenschlüssel und ohne Transportcodierung. Größere Dokumente können nicht hochgeladen werden.

PAR Zum Verschlüsseln des Dokuments wird dieses mit einem Dokumentenschlüssel symmetrisch verschlüsselt. Der Dokumentenschlüssel wird dann symmetrisch mit dem Aktenschlüssel verschlüsselt. Für Vorgaben zum Verschlüsseln eines Dokuments für das ePA-Aktensystem siehe .


PAR Die Dokumentenschlüssel dürfen nicht persistent gespeichert werden und müssen nach ihrer Verwendung gelöscht werden.

PAR Auf Basis der verschlüsselten Dokumente und den durch den Nutzer für jedes Dokument eingegebenen Metadaten wird eine Provide And Register Document Set-b Message für die einzustellenden Versichertendokumente erstellt.
PAR Für Nutzungsvorgaben siehe Kapitel .

PAR -HEADING(ids=6.2.8.2)6.2.8.2 Dokumente suchen
PAR Mit diesem Anwendungsfall kann ein Versicherter oder ein berechtigter Vertreter nach Dokumenten oder Dokumentensets im ePA-Aktensystem auf Basis der XDS-Metadaten der Dokumente suchen. Als Ergebnis der Suchanfrage liefert das ePA-Aktensystem eine Liste von XDS-Metadaten zu Dokumenten.

PAR Folgende Suchanfragen sollen mindestens möglich sein (ggf. mit zusätzlichem Nachfiltern auf dem FdV):

LIST->
LITEM->PAR Suche nach allen medizinischen Dokumenten im AktenkontoLITEM->PAR Suche nach Ersteller bzw. Einstellendem ($XDSSubmissionSetAuthorPerson, $XDSDocumentEntryAuthorPerson, $XDSDocumentEntryAuthorInstitution siehe   und A_17854-*)LITEM->PAR Suche nach in einem Zeitraum erstellten bzw. eingestellten Dokumenten ($XDSDocumentEntryCeationTimeFrom/To / $XDSSubmissionSetSubmissionTimeFrom/To)LITEM->PAR Suche nach Dokumententitel (siehe [gemSpec_Dokumentenverwaltung#A_17185] und A_17854-*)LITEM->PAR Suche nach durch LEIs bereitgestellte DokumenteLITEM->PAR Suche nach Dokumenten mit Kennzeichnung "Versicherteninformation"(siehe [gemSpec_DM_ePA#A_14986])LITEM->PAR Suche nach durch Krankenkassen bereitgestellte InformationenLITEM->PAR Suche nach Dokumenten im DocumentEntry.availabilityStatus "Deprecated" oder "Approved"LITEM->PAR Suche nach durch DiGA bereitgestellten Dokumenten


PAR Das Ergebnis der Suche soll für den Nutzer sortierbar und filterbar dargestellt werden.



PAR Das lokale Speichern kann im PDF Format angeboten werden.

PAR -HEADING(ids=6.2.8.3)6.2.8.3 Dokument herunterladen
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter Dokumente aus dem Aktenkonto zum Anzeigen oder lokalen Speichern herunterladen.





PAR -HEADING(ids=6.2.8.4)6.2.8.4 Dokumente im Aktenkonto löschen
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter Dokumente im Aktenkonto löschen. Die Dokumente sind damit unwiederbringlich aus dem ePA-Aktensystem entfernt.





PAR -HEADING(ids=6.2.9)6.2.9 Protokollverwaltung
PAR -HEADING(ids=6.2.9.1)6.2.9.1 Zugriffsprotokoll einsehen
PAR Bei der Nutzung eines Aktenkontos durch LEI, durch berechtigte Vertreter oder den Aktenkontoinhaber werden Aktivitäten protokolliert, damit der Aktenkontoinhaber oder ein berechtigter Vertreter diese Aktivitäten nachvollziehen kann. Dazu zählen Zugriffe auf die Dokumente und seine Metadaten (§ 291a-konformes Zugriffsprotokoll) sowie auch Aktivitäten mit administrativem Charakter (Verwaltungsprotokoll).
PAR Die verschiedenen Aktivitäten sind in [gemSpec_DM_ePA#A_14505-*] gelistet. 
PAR Die Protokolldaten des § 291a-konformen Zugriffsprotokolls werden im Aktenkonto (Komponente Dokumentenverwaltung) abgelegt. Die Protokolldaten des Verwaltungsprotokolls werden in verschiedenen Komponenten des ePA-Aktensystems vorgehalten. Die Daten müssen für eine Anzeige separat abgefragt werden.
PAR Mit diesem Anwendungsfall kann ein Versicherter bzw. ein berechtigter Vertreter die Protokolldaten über die Zugriffe auf das Aktenkonto des Versicherten einsehen.

PAR Die Protokolleinträge werden im Aktensystem nach Ablauf der in [gemSpec_ePA_FdV#A_19051] beschriebenen Frist gelöscht.





PAR Die Ergebnisse der Abfragen an die Komponenten des ePA-Aktensystems werden vereint.
PAR Die Information eines Protokolleintrages sind in [gemSpec_DM_ePA#A_14471-*] beschrieben. 
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_155 – Felder im Protokolleintrag

TABLE(rows=12,cols=0+0+0+0)->
TR-> TH(0,0/1/1)->PAR Protokolldatum TH(0,1/1/1)->PAR Bezeichnung in GUI TH(0,2/1/1)->PAR Hinweis zur Anzeige TH(0,3/1/1)->PAR optional in<br>Standard-<br>Anzeige
TR-> TD(1,0/1/1)->PAR Aufgerufene Operation TD(1,1/1/1)->PAR Art des Zugriffs auf das Aktenkonto TD(1,2/1/1)->PAR DisplayName anzeigen TD(1,3/1/1)->
TR-> TD(2,0/1/1)->PAR Datum und Uhrzeit des Zugriffs TD(2,1/1/1)->PAR Zeitpunkt des Zugriffs TD(2,2/1/1)-> TD(2,3/1/1)->
TR-> TD(3,0/1/1)->PAR Ergebnis der aufgerufenen Operation TD(3,1/1/1)->PAR Ergebnis Zugriff TD(3,2/1/1)->PAR 0 - erfolgreich<br>1 - nicht erfolgreich TD(3,3/1/1)->
TR-> TD(4,0/1/1)->PAR UserID TD(4,1/1/1)->PAR Identifier des Nutzers TD(4,2/1/1)-> TD(4,3/1/1)->PAR x
TR-> TD(5,0/1/1)->PAR UserName TD(5,1/1/1)->PAR Name des Nutzers TD(5,2/1/1)-> TD(5,3/1/1)->
TR-> TD(6,0/1/1)->PAR ObjectID TD(6,1/1/1)->PAR Identifier des Objektes, auf das zugegriffen wurde TD(6,2/1/1)-> TD(6,3/1/1)->PAR x
TR-> TD(7,0/1/1)->PAR ObjectName TD(7,1/1/1)->PAR Bezeichner des Objektes, auf das zugegriffen wurde TD(7,2/1/1)-> TD(7,3/1/1)->
TR-> TD(8,0/1/1)->PAR ObjectDetail TD(8,1/1/1)->PAR Details zum zugegriffenen Objekt TD(8,2/1/1)-> TD(8,3/1/1)->
TR-> TD(9,0/1/1)->PAR DeviceID TD(9,1/1/1)->PAR Gerätekennung TD(9,2/1/1)-> TD(9,3/1/1)->PAR x
TR-> TD(10,0/1/1)->PAR Home-CommunityID des ePA-Aktensystems TD(10,1/1/1)->PAR ID des Aktenanbieters TD(10,2/1/1)-> TD(10,3/1/1)->PAR x
TR-> TD(11,0/1/1)->PAR Name des Aktenanbieters TD(11,1/1/1)->PAR Name des Aktenanbieters TD(11,2/1/1)-> TD(11,3/1/1)->PAR x



PAR Das FdV kann in der Standard-Anzeige die gemäß TAB_FdV_155 optionalen Felder verbergen. Der Nutzer muss dann die Möglichkeit haben, sich die verborgenen Felder anzeigen zu lassen.

PAR Das FdV soll in der Standard-Anzeige und in der Erweiterte-Anzeige für die Protokolldaten die Bezeichnung der Felder sinngemäß zu TAB_FdV_155 verwenden.
PAR Das FdV kann es dem Nutzer über einen Link in der Anzeige ermöglichen, das referenzierte Dokument direkt herunterzuladen.
PAR Die Protokolldaten sollen für den Nutzer sortierbar und filterbar dargestellt werden. Der Nutzer soll die Protokolldaten durchsuchen können.


PAR -HEADING(ids=6.2.10)6.2.10 Verwaltung eGK
PAR -HEADING(ids=6.2.10.1)6.2.10.1 PIN der eGK ändern
PAR Mit diesem Anwendungsfall kann der Nutzer das Geheimnis der PIN einer eGK ändern.


PAR Abbildung #: Aktivitätsdiagramm "PIN der eGK ändern"
PAR -HEADING(ids=6.2.10.2)6.2.10.2 PIN der eGK entsperren
PAR Mit diesem Anwendungsfall kann der Nutzer den gesperrten PIN einer eGK mit der PUK entsperren.


PAR Abbildung #: Aktivitätsdiagramm "PIN der eGK entsperren"
PAR -HEADING(ids=6.2.11)6.2.11 Geräteverwaltung
PAR -HEADING(ids=6.2.11.1)6.2.11.1 Benachrichtigungsadresse für Geräteautorisierung aktualisieren
PAR Um ein Gerät mit dem FdV für den Zugriff auf ein Aktenkonto zu autorisieren, muss der Nutzer dieses über einen separaten Benachrichtigungskanal (E-Mail mit Freischalt-Link) bestätigen. Die E-Mail wird an die im Aktenkonto hinterlegte Benachrichtigungsadresse des Nutzers gesendet.
PAR Für den Aktenkontoinhaber wird die Benachrichtigungsadresse initial im Rahmen der Kontoeröffnung hinterlegt. Für Vertreter erfolgt die initiale Hinterlegung der Benachrichtigungsadresse während der Vergabe der Zugriffsberechtigung.
PAR Der Anwendungsfall "Benachrichtigungsadresse für Geräteautorisierung aktualisieren" gibt dem Nutzer die Möglichkeit eine neue Benachrichtigungsadresse im Aktenkonto zu hinterlegen.


PAR -HEADING(ids=6.2.11.2)6.2.11.2 Benachrichtigungsadressen abfragen
PAR Bei der Einrichtung eines Vertreters wird dessen Benachrichtigungsadresse im AS hinterlegt. Die Schnittstelle GetNotificationInfo wird durch den Versicherten dafür genutzt, diese Benachrichtigungsadresse vom AS abfragen zu können, insbesondere im Rahmen des Aktenwechsels oder zur Prüfung, ob eine Korrektur der Benachrichtigungsadresse des Vertreters erforderlich ist.

PAR -HEADING(ids=6.3)6.3 Realisierung der Leistungen der TI-Plattform
PAR Der Produkttyp ePA-Frontend des Versicherten realisiert die von den Fachanwendungen benötigten Leistungen der TI-Plattform, die in den fachlichen Anwendungsfällen der ePA genutzt werden. Die durch die TI-Plattform bereitgestellten Leistungen umfassen einen für die Fachanwendungen einheitlichen Zugriff auf die eGK des Versicherten, Leistungen der PKI der Telematikinfrastruktur, kryptographische Operationen, etc. die in übergreifenden Spezifikationen der gematik festgelegt sind. Die Definition der Leistungen der TI-Plattform im ePA-Frontend des Versicherten finden sich in [gemSpec_Systemprozesse_dezTI].
PAR Das ePA-Frontend des Versicherten verwendet u.a. die in der Tabelle TAB_FdV_177 dargestellten Plattformleistungen.
PAR (ids=Tabelle-#)Tabelle #: TAB_FdV_177 – Verwendete Plattformleistungen

TABLE(rows=10,cols=0+0)->
TR-> TH(0,0/1/1)->PAR Kürzel TH(0,1/1/1)->PAR Bezeichnung
TR-> TD(1,0/1/1)->PAR PL_TUC_CARD_CHANGE_PIN TD(1,1/1/1)->PAR PIN ändern
TR-> TD(2,0/1/1)->PAR PL_TUC_CARD_INFORMATION TD(2,1/1/1)->PAR Gesammelte Statusinformationen zu einer Karte
TR-> TD(3,0/1/1)->PAR PL_TUC_CARD_UNBLOCK_PIN TD(3,1/1/1)->PAR PIN mit PUK entsperren
TR-> TD(4,0/1/1)->PAR PL_TUC_CARD_VERIFY_PIN TD(4,1/1/1)->PAR Benutzer verifizieren
TR-> TD(5,0/1/1)->PAR PL_TUC_GET_CHALLENGE TD(5,1/1/1)->PAR Auslesen einer Zufallszahl
TR-> TD(6,0/1/1)->PAR PL_TUC_PKI_VERIFY_CERTIFICATE TD(6,1/1/1)->PAR Prüfung eines Zertifikats der TI
TR-> TD(7,0/1/1)->PAR PL_TUC_SIGN_HASH_nonQES TD(7,1/1/1)->PAR mit Karten-Identität signieren
TR-> TD(8,0/1/1)->PAR PL_TUC_SYMM_DECIPHER TD(8,1/1/1)->PAR Symmetrisch entschlüsseln
TR-> TD(9,0/1/1)->PAR PL_TUC_SYMM_ENCIPHER TD(9,1/1/1)->PAR Symmetrisch verschlüsseln
PAR In den folgenden Abschnitten wird festgelegt, wie umgebungsspezifische Operationen an der Schnittstelle zu den Leistungen der TI-Plattform umgesetzt werden sollen.
PAR -HEADING(ids=6.3.1)6.3.1 Transportschnittstelle für Kartenkommandos
PAR Der hier beschriebene Produkttyp ePA-Frontend des Versicherten ist als reines Softwareprodukt konzipiert. Als solches muss das ePA-Frontend des Versicherten eine Schnittstelle zur eGK über ein Kartenterminal herstellen. Diese Schnittstelle muss die von den Plattformprozessen erzeugten, kartenverständlichen APDUs an die Karte übertragen und wird im Folgenden als ENV_TUC_CARD_APDU_TRANSPORT bezeichnet. Neben proprietären Schnittstellentreibern von Kartenterminalherstellern existieren eine Reihe standardisierter Schnittstellen, die auch von verschiedenen Betriebssystemen zur Anbindung handelsüblicher Kartenterminals unterstützt werden.

PAR Von der Anforderung A_15501-* darf abgewichen werden, wenn die Umsetzung technisch nicht möglich ist (bspw. durch die fehlende Unterstützung der NFC-Schnittstelle bei Herstellern mobiler Endgeräte).
PAR Das ePA-Frontend des Versicherten kann ergänzend eine Transportschnittstelle für die Übertragung von SmartCard-APDUs auf Basis des SICCT-Protokolls, gegen den Standard CCID oder gegen proprietäre Hardwaretreiber eines Kartenterminalherstellers implementieren.

PAR Es können Kartenterminalvarianten der Sicherheitsklassen 1 (reine Kontaktiereinheit) zum Einsatz kommen. Es sollen bevorzugt Kartenterminalvarianten der Sicherheitsklassen 2 (Kartenterminal mit eigenem PIN-Pad) oder 3 (PIN-Pad plus Display) verwendet werden. Zusätzlich ist die Ausstattung des eingesetzten Kartenterminals (Klasse 1, 2 oder 3) mit einer NFC-Schnittstelle möglich. Das ePA-Frontend des Versicherten muss die von den Varianten gebotenen Features geeignet nutzen.



PAR Das temporäre Speichern bezieht sich bei der Verwendung eines Kartenterminals der Sicherheitsklasse 1 auf das Verwenden der PIN über den Anwendungsfall hinaus, für den die PIN-Eingabe erfolgt ist, z.B. Caching während einer Sitzung. Gelangt das ePA-Frontend des Versicherten bei der Verwendung eines Kartenterminals der Sicherheitsklassen 2 und 3 ggfs. durch Fehlkonfiguration in Kenntnis der PIN, darf es diese ebenfalls weder temporär noch persistent speichern.
PAR -HEADING(ids=6.3.1.1)6.3.1.1 Kartenterminals der Sicherheitsklasse 1
PAR Kartenterminals der Sicherheitsklasse 1 verfügen über keine Sicherheitsmerkmale, sie sind eine reine Kontaktiereinheit einer SmartCard. Sämtliche Geheimnis-Eingaben und Hinweistext-Ausgaben müssen über das FdV mittels Bildschirm und Tastatur/Maus erfolgen.





PAR -HEADING(ids=6.3.1.2)6.3.1.2 Kartenterminals der Sicherheitsklasse 2
PAR Kartenterminals der Sicherheitsklasse 2 verfügen über eine Eingabeschnittstelle zur Eingabe eines Benutzergeheimnisses. Typischerweise werden Kartenterminals der Sicherheitsklasse 2 in Anwendungsfällen mit Eingabe einer PIN bzw. PUK so angesteuert, dass das vorbereitete Kartenkommando mit einem Platzhalter des PIN-Geheimnisses an das Kartenterminal geschickt wird. Das Kartenterminal nimmt die PIN über die Eingabeschnittstelle entgegen, ersetzt den Platzhalter durch das eingegebene Geheimnis und leitet das Kartenkommando anschließend weiter an die Karte.



PAR -HEADING(ids=6.3.1.3)6.3.1.3 Kartenterminals der Sicherheitsklasse 3
PAR Kartenterminals der Sicherheitsklasse 3 verfügen über eine Eingabeschnittstelle zur Eingabe eines Benutzergeheimnisses und Ausgabeschnittstelle zur Anzeige kurzer Textmeldungen. Typischerweise werden Kartenterminals der Sicherheitsklasse 3 in Anwendungsfällen mit Eingabe einer PIN bzw. PUK so angesteuert, dass das vorbereitete Kartenkommando mit einem Platzhalter des PIN-Geheimnisses an das Kartenterminal geschickt wird. Das Kartenterminal nimmt die PIN über die Eingabeschnittstelle entgegen, ersetzt den Platzhalter durch das eingegebene Geheimnis und leitet das Kartenkommando anschließend weiter an die Karte.
PAR Während des Wartens auf eine Benutzereingabe kann ein an das Kartenterminal übergebener Text angezeigt werden. Einzelne Eingaben durch einen Benutzer werden in der Regel durch das Zeichen "*" quittiert. Ebenso besitzen Kartenterminals der Sicherheitsklasse 3 meist zusätzliche Logik, z.B. Eingaben zu verifizieren (siehe Anforderungen zum Ändern einer PIN mittels Klasse 1-Kartenterminal). Auf diese Logik soll hier nicht weiter eingegangen werden.



PAR Die Anzeige eines Benutzerhinweises soll den Nutzer informieren zu welchem Zweck eine Eingabe getätigt (z.B. alte PIN, neue PIN im Anwendungsfall PIN ändern) und welches konkrete Geheimnis abgefragt werden soll (PIN, PUK).
PAR -HEADING(ids=6.3.2)6.3.2 Schnittstelle für PIN-Operationen und Anbindung der eGK
PAR Anwendungsfälle zur PIN-Verwaltung, das Login sowie weitere Anwendungsfälle können die Eingabe eines PIN- oder PUK-Geheimnisses durch den Versicherten erfordern. Der Zugriff auf die eGK erfolgt über die Systemprozesse PL_TUC_CARD_*. Das FdV als Realisierungsumgebung der Systemprozesse muss ihrerseits die von der Plattform geforderten Schnittstellen ENV_TUC_CARD_SECRET_INPUT implementieren, um die Kommunikation der Plattform mit dem Nutzer über die Außenschnittstelle des FdV zu ermöglichen. Die Außenschnittstelle ist in Kapitel "6.3.1 Transportschnittstelle für Kartenkommandos" beschrieben und umfasst das Kartenterminal, Eingabemedium und Hinweistexte an den Nutzer. Diese kann je nach Konfiguration an einem Gerät als Kartenterminal der Sicherheitsklasse 3 oder auch eine Kombination aus Bildschirmausgabe, Kartenterminal-PIN-Pad und/oder Tastatureingabe erfolgen.



PAR -HEADING(ids=6.4)6.4 Test-App FdV
PAR Für das Zulassungsverfahren des ePA-Frontend des Versicherten muss eine Anwendung (Test-App) mit integriertem ePA-Frontend des Versicherten bereitgestellt werden. Um einen automatisierten Test für das ePA-Frontend des Versicherten zu ermöglichen, muss die Test-App zusätzlich ein Testtreiber-Modul beinhalten, welcher die Funktionalitäten der produktspezifischen Schnittstelle des ePA-Frontend des Versicherten über eine standardisierte Schnittstelle von außen zugänglich macht und einen Fernzugriff ermöglicht.

PAR Abbildung #: Test-App mit ePA-Frontend des Versicherten und Testtreiber

PAR Das Testtreiber-Modul darf die Ausgaben des ePA-Frontend des Versicherten gemäß der technischen Schnittstelle aufarbeiten, aber darf die Inhalte nicht verfälschen.

PAR Der Einsatz des Testtreiber-Moduls ist auf das Zulassungsverfahren in Test-Apps beschränkt und darf nicht in Wirkbetriebs-Apps genutzt werden.

PAR Die Test-App kann eine GUI anbieten. Diese kann bspw. für die Eingabe der PIN/PUK für die eGK oder die Authentifizierung gegenüber dem Signaturdienst genutzt werden.
PAR Die Test-App muss Fehler, welche von aufgerufenen Systemen gemeldet werden oder bei der internen Verarbeitung auftreten, auf produktspezifische Fehler mappen. Der Hersteller muss die Fehler in der Betriebsdokumentation beschreiben und in einem strukturierten, maschinell verarbeitbarem Dokument übermitteln.
PAR Wenn der Testtreiber einen Eingangsparameter an der Schnittstelle zum ePA-Frontend des Versicherten nicht benötigt, dann kann der Parameter ignoriert werden.
PAR Alle Operationen beinhalten Parameter mit den notwendigen Informationen für ein Login. Diese sollen für ein implizites Login genutzt werden, wenn zu der insurantId noch keine Aktensession besteht.
PAR Die Test-App muss bei Implementierung eines an ein ePA-Aktensystem gekoppeltes FdV sicherstellen, dass im Rahmen von gematik-Tests die Parameter für die Identifikation des zu nutzenden ePA-Aktensystems konfiguriert werden können.
PAR Um Zugriffe aus einer Webanwendung, wie sie durch das AKTOR-Testfrontend zur Verfügung gestellt wird, auf die Testtreiberschnittstelle zu ermöglichen, werden folgende Schnittstelleneigenschaften benötigt:
PAR Die Test-App kann die Testtreiberschnittstelle so über TLS zur Verfügung stellen, dass ein Zugriff aus Webanwendungen ermöglicht wird, die selbst über TLS geladen wurden.
PAR Die Test-App kann den Zugriff auf die Testtreiberschnittstelle durch das Setzen von CORS-Headern für den Zugriff aus Webanwendungen öffnen, die aus einer anderen Origin geladen wurden.
PAR Die konkrete Ausgestaltung der Schnittstellen [gemTestTreiberFdV] ist im Fachportal der gematik und in GitHub vefügbar.
PAR -HEADING(ids=7)7 Informationsmodell
PAR Aktenkonto:

TABLE(rows=4,cols=0+0+0)->
TR-> TH(0,0/1/1)->PAR Datenfeld TH(0,1/1/1)->PAR Herkunft TH(0,2/1/1)->PAR Beschreibung
TR-> TD(1,0/1/1)->PAR Akten-ID (RecordIdentifier) TD(1,1/1/1)->PAR Konfiguration TD(1,2/1/1)->PAR beinhaltet Versicherten-ID und Anbieter-ID (homeCommunityId)
TR-> TD(2,0/1/1)->PAR Name des Aktenkontoinhabers TD(2,1/1/1)->PAR Konfiguration TD(2,2/1/1)->
TR-> TD(3,0/1/1)->PAR FQDN des ePA-Aktensystem TD(3,1/1/1)->PAR Konfiguration TD(3,2/1/1)->
PAR Geräte-Daten:

TABLE(rows=4,cols=124+96+495)->
TR-> TH(0,0/1/1)->PAR Datenfeld TH(0,1/1/1)->PAR Herkunft TH(0,2/1/1)->PAR Beschreibung
TR-> TD(1,0/1/1)->PAR Gerätekennung (DeviceID) TD(1,1/1/1)->PAR Konfiguration TD(1,2/1/1)->PAR beinhaltet Gerätenamen und Geräteidentität
TR-> TD(2,0/1/1)->PAR Geräteidentität TD(2,1/1/1)->PAR Konfiguration TD(2,2/1/1)->PAR wird von der Autorisierung beim erstmaligen Aufruf zusammen mit dem DEVICE_UNKNOWN Fehler übermittelt
TR-> TD(3,0/1/1)->PAR Gerätenamen TD(3,1/1/1)->PAR Konfiguration TD(3,2/1/1)->PAR durch Nutzer festgelegt
PAR Session-Daten:

TABLE(rows=10,cols=0+0+0)->
TR-> TH(0,0/1/1)->PAR Datenfeld TH(0,1/1/1)->PAR Herkunft TH(0,2/1/1)->PAR Beschreibung
TR-> TD(1,0/1/1)->PAR Akten-ID (RecordIdentifier) TD(1,1/1/1)->PAR Konfiguration TD(1,2/1/1)->PAR Kennung des Aktenkontos, auf das in der Aktensession zugegriffen wird, im Format von RecordIdentifier gemäß [gemSpec_DM_ePA#2.2]<br>Die homeCommunityID muss bekannt sein.
TR-> TD(2,0/1/1)->PAR Status Nutzer<br>(Aktenkontoinhaber oder Vertreter) TD(2,1/1/1)-> TD(2,2/1/1)->PAR Vergleich Versicherten-ID aus Akten-ID mit Versicherten-ID aus Authentisierungszertifikat des Nutzers
TR-> TD(3,0/1/1)->PAR Authentisierungstoken (AuthenticationAssertion) TD(3,1/1/1)->PAR Komponente Authentisierung<br>(I_Authentication_Insurant::LoginCreateToken) TD(3,2/1/1)->
TR-> TD(4,0/1/1)->PAR Autorisierungstoken (AuthorizationAssertion) TD(4,1/1/1)->PAR Komponente Autorisierung<br>(I_Authorization_Insurant::getAuthorizationKey) TD(4,2/1/1)->
TR-> TD(5,0/1/1)->PAR Aktenschlüssel (RecordKey) TD(5,1/1/1)->PAR AuthorizationKey TD(5,2/1/1)->PAR entschlüsselter Aktenschlüssel
TR-> TD(6,0/1/1)->PAR Kontextschlüssel (ContextKey) TD(6,1/1/1)->PAR AuthorizationKey TD(6,2/1/1)->PAR entschlüsselter Kontextschlüssel
TR-> TD(7,0/1/1)->PAR Zustand des Aktenkontos (RecordState) TD(7,1/1/1)->PAR Autorisierungstoken<br>Attribut Assertion/AttributeStatement/Attribute mit dem Namen "Zustand des Kontos" TD(7,2/1/1)->
TR-> TD(8,0/1/1)->PAR Zeitpunkt der letzten Authentifizierung durch den Nutzer TD(8,1/1/1)->PAR Konfiguration TD(8,2/1/1)->
TR-> TD(9,0/1/1)->PAR Liste der vergebenen Berechtigungen TD(9,1/1/1)->PAR Aktivität "Vergebene Berechtigungen bestimmen" TD(9,2/1/1)->PAR Liste der für alle Berechtigungen ausgelesenen AuthorizationKeys und Policy Documents
PAR Nutzer:

TABLE(rows=5,cols=142+143+143)->
TR-> TH(0,0/1/1)->PAR Datenfeld TH(0,1/1/1)->PAR Herkunft TH(0,2/1/1)->PAR Beschreibung
TR-> TD(1,0/1/1)->PAR Authentisierungszertifikat des Nutzers TD(1,1/1/1)->PAR eGK<br>für alternative kryptographische Versichertenidentität: Signaturdienst TD(1,2/1/1)->PAR falls eGK: C.CH.AUT<br>falls alternative kryptographische Versichertenidentität: C.CH.AUT_ALT
TR-> TD(2,0/1/1)->PAR Name des Nutzers TD(2,1/1/1)->PAR Authentisierungszertifikat des Nutzers TD(2,2/1/1)->
TR-> TD(3,0/1/1)->PAR Versicherten-ID des Nutzers TD(3,1/1/1)->PAR Authentisierungszertifikat des Nutzers TD(3,2/1/1)->
TR-> TD(4,0/1/1)->PAR Benachrichtigungskanal für Geräteverwaltung (E-Mail) TD(4,1/1/1)-> TD(4,2/1/1)->PAR durch den Nutzer während des Eröffnens des Aktenkontos angegeben. 
PAR Berechtigungen:

TABLE(rows=9,cols=236+339+138)->
TR-> TH(0,0/1/1)->PAR Datenfeld TH(0,1/1/1)->PAR Herkunft TH(0,2/1/1)->PAR Beschreibung
TR-> TD(1,0/1/1)->PAR Name des Berechtigten TD(1,1/1/1)->PAR DisplayName aus AuthorizationKey TD(1,2/1/1)->
TR-> TD(2,0/1/1)->PAR Kategorie TD(2,1/1/1)->PAR Policy Document TD(2,2/1/1)->PAR LEI, DiGA, KTR oder Vertreter
TR-> TD(3,0/1/1)->PAR ID TD(3,1/1/1)->PAR AuthorizationKey / Policy Document TD(3,2/1/1)->PAR für LEI, DiGA oder KTR: Telematik-ID<br>für Vertreter: Versicherten-ID
TR-> TD(4,0/1/1)->PAR Berechtigung gültig bis TD(4,1/1/1)->PAR Policy Document TD(4,2/1/1)->PAR LEI, DiGA, KTR, Vertreter
TR-> TD(5,0/1/1)->PAR Berechtigung für LEI TD(5,1/1/1)->PAR PolicyDocument mit "urn:gematik:policy:2.0:<record-id>:lei:<telematik-id>"  TD(5,2/1/1)->PAR LEI
TR-> TD(6,0/1/1)->PAR Berechtigung für KTR TD(6,1/1/1)->PAR Policy Document mit "urn:gematik:policy:2.0:<record-id>:ktr:<telematik-id>" TD(6,2/1/1)->PAR KTR
TR-> TD(7,0/1/1)->PAR Berechtigung für Vertreter TD(7,1/1/1)->PAR Policy Document mit "urn:gematik:policy:2.0:<record-id>:rep:<kvnr>" TD(7,2/1/1)->PAR Vertreter
TR-> TD(8,0/1/1)->PAR Berechtigung für DiGA TD(8,1/1/1)->PAR Policy Document mit "urn:gematik:policy:2.0:<record-id>:diga:<telematik-id>" TD(8,2/1/1)->PAR  DiGA 
PAR -HEADING(ids=8)8 Verteilungssicht
PAR Eine Darstellung der hardwareseitigen Verteilung des Produkttyps bzw. seiner Teilsysteme und der Einbettung in die physikalische Umgebung wird nicht benötigt.
PAR -HEADING(ids=9)9 Anhang A – Verzeichnisse
PAR -HEADING(ids=9.1)9.1 Abkürzungenq

TABLE(rows=32,cols=127+600)->
TR-> TH(0,0/1/1)->PAR Kürzel TH(0,1/1/1)->PAR Erläuterung
TR-> TD(1,0/1/1)->PAR AN TD(1,1/1/1)->PAR Arbeitsnummer
TR-> TD(2,0/1/1)->PAR DiGA TD(2,1/1/1)->PAR Digitale Gesundheitsanwendung
TR-> TD(3,0/1/1)->PAR DSMLv2 TD(3,1/1/1)->PAR  Directory Services Markup Language v2.0
TR-> TD(4,0/1/1)->PAR eGK TD(4,1/1/1)->PAR Elektronische Gesundheitskarte
TR-> TD(5,0/1/1)->PAR ePA TD(5,1/1/1)->PAR Elektronische Patientenakte
TR-> TD(6,0/1/1)->PAR FDZ TD(6,1/1/1)->PAR Forschungsdatenzentrum
TR-> TD(7,0/1/1)->PAR FdV TD(7,1/1/1)->PAR ePA-Frontend des Versicherten
TR-> TD(8,0/1/1)->PAR FQDN TD(8,1/1/1)->PAR Fully-Qualified Domain Name
TR-> TD(9,0/1/1)->PAR GdV TD(9,1/1/1)->PAR Gerät des Versicherten
TR-> TD(10,0/1/1)->PAR IHE TD(10,1/1/1)->PAR Integrating the Healthcare Enterprise
TR-> TD(11,0/1/1)->PAR KTR TD(11,1/1/1)->PAR Kostenträger
TR-> TD(12,0/1/1)->PAR KVNR TD(12,1/1/1)->PAR Krankenversichertennummer
TR-> TD(13,0/1/1)->PAR LE TD(13,1/1/1)->PAR Leistungserbringer
TR-> TD(14,0/1/1)->PAR LEI TD(14,1/1/1)->PAR Leistungserbringerinstitution
TR-> TD(15,0/1/1)->PAR LP TD(15,1/1/1)->PAR Lieferpseudonym
TR-> TD(16,0/1/1)->PAR MTOM TD(16,1/1/1)->PAR Message Transmission Optimization Mechanism
TR-> TD(17,0/1/1)->PAR NFC TD(17,1/1/1)->PAR Near Field Communication
TR-> TD(18,0/1/1)->PAR OWASP TD(18,1/1/1)->PAR Open Web Application Security Project
TR-> TD(19,0/1/1)->PAR pD TD(19,1/1/1)->PAR pseudonymisierte Dokumente des Versicherten (strukturierte Dokumente, auf welche das Pseudonymisierungsschema angewendet wurde)
TR-> TD(20,0/1/1)->PAR pDenc TD(20,1/1/1)->PAR pseudonymisierte Dokumente, Ende-zu-Ende verschlüsselt für das Forschungsdatenzentrum
TR-> TD(21,0/1/1)->PAR PDF TD(21,1/1/1)->PAR Portable Document Format
TR-> TD(22,0/1/1)->PAR PIN TD(22,1/1/1)->PAR Personal Identification Number
TR-> TD(23,0/1/1)->PAR Pseudonymisierungs-schablone, Pseudonymisierungs-vorgaben TD(23,1/1/1)->PAR MIO-, bzw. FHIR-Profil-spezifische Auflistung aller möglichen Elemente, welche in eine pseudonyme Repräsentation übernommen werden können, jeweils definiert als Fhir-Path-Angabe
TR-> TD(24,0/1/1)->PAR PUK TD(24,1/1/1)->PAR Personal Unblocking Key
TR-> TD(25,0/1/1)->PAR SGD TD(25,1/1/1)->PAR Schlüsselgenerierungsdienst
TR-> TD(26,0/1/1)->PAR SOAP TD(26,1/1/1)->PAR Simple Object Access Protocol
TR-> TD(27,0/1/1)->PAR TI TD(27,1/1/1)->PAR Telematikinfrastruktur
TR-> TD(28,0/1/1)->PAR TLS TD(28,1/1/1)->PAR Transport Layer Security
TR-> TD(29,0/1/1)->PAR TSL TD(29,1/1/1)->PAR Trust-service Status List
TR-> TD(30,0/1/1)->PAR VST TD(30,1/1/1)->PAR Vertrauensstelle
TR-> TD(31,0/1/1)->PAR VZD TD(31,1/1/1)->PAR Verzeichnisdienst der TI
PAR -HEADING(ids=9.2)9.2 Glossar

TABLE(rows=7,cols=220+519)->
TR-> TH(0,0/1/1)->PAR Begriff TH(0,1/1/1)->PAR Erläuterung
TR-> TD(1,0/1/1)->PAR Funktionsmerkmal TD(1,1/1/1)->PAR Der Begriff beschreibt eine Funktion oder auch einzelne, eine logische Einheit bildende Teilfunktionen der TI im Rahmen der funktionalen Zerlegung des Systems.
TR-> TD(2,0/1/1)->PAR Patienteninformation TD(2,1/1/1)->PAR Ist ein durch eine Leistungserbringerinstitution im Aktenkonto bereitgestelltes Dokument, welches vorrangig der Information von Versicherten dient. Das Dokument wird durch den Leistungserbringer als Versicherteninformation gekennzeichnet.
TR-> TD(3,0/1/1)->PAR Policy Document TD(3,1/1/1)->PAR Das Policy Document ist ein technisches Dokument. Es enthält die Zugriffsregeln eines Berechtigten im Aktenkonto des Versicherten in der Komponente "Dokumentenverwaltung". Berechtige der Aktenkontoinhaber, Vertreter oder LEIs.
TR-> TD(4,0/1/1)->PAR Versicherten-ID TD(4,1/1/1)->PAR Die Versicherten-ID ist der 10-stellige unveränderliche Teil der 30-stelligen Krankenversichertennummer (KVNR).
TR-> TD(5,0/1/1)->PAR Versichertendokument TD(5,1/1/1)->PAR Ist ein durch einen Versicherten (Aktenkontoinhaber oder Vertreter) im Aktenkonto bereitgestelltes Dokument
TR-> TD(6,0/1/1)->PAR Versicherteninformation TD(6,1/1/1)->PAR siehe Patienteninformation
PAR Das Glossar wird als eigenständiges Dokument, vgl. [gemGlossar] zur Verfügung gestellt.
PAR -HEADING(ids=9.3)9.3 Abbildungsverzeichnis

PAR -HEADING(ids=9.4)9.4 Tabellenverzeichnis

PAR -HEADING(ids=9.5)9.5 Referenzierte Dokumente
PAR -HEADING(ids=9.5.1)9.5.1 Dokumente der gematik
PAR Die nachfolgende Tabelle enthält die Bezeichnung der in dem vorliegenden Dokument referenzierten Dokumente der gematik zur Telematikinfrastruktur.

TABLE(rows=23,cols=263+476)->
TR-> TH(0,0/1/1)->PAR [Quelle] TH(0,1/1/1)->PAR Herausgeber: Titel
TR-> TD(1,0/1/1)->PAR [gemGlossar] TD(1,1/1/1)->PAR gematik: Einführung der Gesundheitskarte - Glossar
TR-> TD(2,0/1/1)->PAR [gemSpec_Aktensystem] TD(2,1/1/1)->PAR gematik: Spezifikation ePA-Aktensystem
TR-> TD(3,0/1/1)->PAR [gemSpec_Authentisierung_Vers] TD(3,1/1/1)->PAR gematik: Spezifikation Authentisierung des Versicherten ePA
TR-> TD(4,0/1/1)->PAR [gemSpec_Autorisierung] TD(4,1/1/1)->PAR gematik: Spezifikation Autorisierung ePA
TR-> TD(5,0/1/1)->PAR [gemSpec_DM_ePA] TD(5,1/1/1)->PAR gematik: Datenmodell ePA
TR-> TD(6,0/1/1)->PAR [gemSpec_Dokumentenverwaltung] TD(6,1/1/1)->PAR gematik: Spezifikation Dokumentenverwaltung ePA
TR-> TD(7,0/1/1)->PAR [gemSpec_Krypt] TD(7,1/1/1)->PAR gematik: Übergreifende Spezifikation<br>Verwendung kryptographischer Algorithmen in der Telematikinfrastruktur
TR-> TD(8,0/1/1)->PAR [gemSpec_OID] TD(8,1/1/1)->PAR gematik: Spezifikation Festlegung von OIDs 
TR-> TD(9,0/1/1)->PAR [gemSpec_OM] TD(9,1/1/1)->PAR gematik: Übergreifende Spezifikation Operations und Maintenance
TR-> TD(10,0/1/1)->PAR [gemSpec_PKI] TD(10,1/1/1)->PAR gematik: Übergreifende Spezifikation Spezifikation PKI
TR-> TD(11,0/1/1)->PAR [gemSpec_SGD_ePA] TD(11,1/1/1)->PAR gematik: Spezifikation Schlüsselgenerierungsdienst ePA
TR-> TD(12,0/1/1)->PAR [gemSpec_SigD] TD(12,1/1/1)->PAR gematik: Spezifikation Signaturdienst
TR-> TD(13,0/1/1)->PAR [gemSpec_Systemprozesse_dezTI] TD(13,1/1/1)->PAR gematik: Spezifikation Systemprozesse der dezentralen TI
TR-> TD(14,0/1/1)->PAR [gemSpec_TSL] TD(14,1/1/1)->PAR gematik: Spezifikation TSL-Dienst
TR-> TD(15,0/1/1)->PAR [gemSpec_X_509_TSP] TD(15,1/1/1)->PAR gematik: Spezifikation Trust Service Provider X.509
TR-> TD(16,0/1/1)->PAR [gemSpec_Zugangsgateway_Vers] TD(16,1/1/1)->PAR gematik: Spezifikation Zugangsgateway des Versicherten ePA
TR-> TD(17,0/1/1)->PAR [gemSysL_ ePA] TD(17,1/1/1)->PAR gematik: Systemspezifisches Konzept ePA
TR-> TD(18,0/1/1)->PAR [gemTestTreiberFdV] TD(18,1/1/1)->PAR gematik: Testtreiber-Schnittstellen I_FDV und I_FDV_Management<br>(src/openapi/testtreiber_fdv.yaml), https://github.com/gematik/api-ePAhttps://github.com/gematik/api-ePA  
TR-> TD(19,0/1/1)->PAR [FD_Aufzeichnung_Schema] TD(19,1/1/1)->PAR gematik: researchDataSubmissionTrackingList.json, guideline_researchDataSubmissionTracking.adoc<br>Json-Schema für das Dokument zur Aufzeichnung der Freigabe und des Widerrufs von Daten für Forschungszwecke, zzgl Anleitung.<br>Version 1.0.1<br>GitHub: [https://github.com/gematik/api-ePA ]https://github.com/gematik/api-ePA  <br>Path: src/implementation_guides
TR-> TD(20,0/1/1)->PAR [FD_Aufzeichnung] TD(20,1/1/1)->PAR gematik: ig-researchDataSubmissionTracking.json<br>Implementation-Guide für das Dokument 'Aufzeichnungsliste' zur Aufzeichnung der Freigabe und des Widerrufs von Daten für Forschungszwecke in der Akte des Versicherten<br>Version 1.0.0<br>GitHub: [https://github.com/gematik/api-ePA ]https://github.com/gematik/api-ePA  <br>Path: src/implementation_guides
TR-> TD(21,0/1/1)->PAR [IG_MIO] TD(21,1/1/1)->PAR gematik: Implementation Guides für strukturierte Dokumente<br>GitHub: [https://github.com/gematik/api-ePA ]https://github.com/gematik/api-ePA  <br>Path: src/implementation_guides
TR-> TD(22,0/1/1)->PAR [I_Authorization_Token_Service] TD(22,1/1/1)->PAR gematik: I_Authorization_Insurant.yaml<br>REST-Schnittstelle zur Ausstellung der Transporttoken für die Freigabe von Dokumenten für Forschungszwecke<br>Version 1.0.0<br>GitHub: [https://github.com/gematik/api-ePA ]https://github.com/gematik/api-ePA  <br>Path: src/openapi
PAR -HEADING(ids=9.5.2)9.5.2 Weitere Dokumente

TABLE(rows=25,cols=169+570)->
TR-> TH(0,0/1/1)->PAR [Quelle] TH(0,1/1/1)->PAR Herausgeber (Erscheinungsdatum): Titel
TR-> TD(1,0/1/1)->PAR [DSML2.0] TD(1,1/1/1)->PAR OASIS: Directory Services Markup Language v2.0<br>December 18, 2001<br>https://www.oasis-open.org/standardshttps://www.oasis-open.org/standards<br>http://www.oasis-open.org/committees/dsml/docs/DSMLv2.dochttp://www.oasis-open.org/committees/dsml/docs/DSMLv2.doc<br>http://oasis-open.org/committees/dsml/erratahttp://oasis-open.org/committees/dsml/errata<br>https://www.oasis-open.org/committees/dsml/docs/DSMLv2.xsdhttps://www.oasis-open.org/committees/dsml/docs/DSMLv2.xsd
TR-> TD(2,0/1/1)->PAR [ETSI_TS_102_231_V3.1.2] TD(2,1/1/1)->PAR ETSI TS 102 231 V3.1.2 (2009-12)<br>Electronic Signatures and Infrastructures (ESI);<br>Provision of harmonized Trust-service status information
TR-> TD(3,0/1/1)->PAR [IHE-ITI-APPC] TD(3,1/1/1)->PAR IHE International (2018): IHE IT Infrastructure (ITI) Technical Framework Supplement, Advanced Patient Privacy Consents (APPC), Revision 1.2 – Trial Implementation, http://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_APPC.pdfhttp://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_APPC.pdf
TR-> TD(4,0/1/1)->PAR [IHE-ITI-TF] TD(4,1/1/1)->PAR IHE International (2018): IHE IT Infrastructure (ITI) Technical Framework, Revision 15.0
TR-> TD(5,0/1/1)->PAR [IHE-ITI-TF2a] TD(5,1/1/1)->PAR IHE International (2018): IHE IT Infrastructure (ITI) Technical Framework, Volume 2a (ITI TF-2a) – Transactions Part A, Revision 15.0, http://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_TF_Vol2a.pdfhttp://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_TF_Vol2a.pdf
TR-> TD(6,0/1/1)->PAR [IHE-ITI-TF2b] TD(6,1/1/1)->PAR IHE International (2018): IHE IT Infrastructure (ITI) Technical Framework, Volume 2b (ITI TF-2b) – Transactions Part B, Revision 15.0, http://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_TF_Vol2b.pdfhttp://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_TF_Vol2b.pdf
TR-> TD(7,0/1/1)->PAR [IHE-ITI-TF2x] TD(7,1/1/1)->PAR IHE International (2018): IHE IT Infrastructure (ITI) Technical Framework, Volume 2x (ITI TF-2x) – Volume 2 Appendices, Revision 15.1, http://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_TF_Vol2x.pdfhttp://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_TF_Vol2x.pdf
TR-> TD(8,0/1/1)->PAR [IHE-ITI-RMD] TD(8,1/1/1)->PAR IHE International (2018): IHE IT Infrastructure (ITI) Technical Framework Supplement, Remove Metadata and Documents (RMD), Revision 1.2 – Trial Implementation<br>https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RMD.pdfhttps://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RMD.pdf 
TR-> TD(9,0/1/1)->PAR [MTOM] TD(9,1/1/1)->PAR W3C (2005): SOAP Message Transmission Optimization Mechanism, https://www.w3.org/TR/soap12-mtom/https://www.w3.org/TR/soap12-mtom/ 
TR-> TD(10,0/1/1)->PAR [OWASP Proactive Control] TD(10,1/1/1)->PAR OWASP Top Ten Proactive Controls Project <br>OWASP Proactive Controls For Developers v3.0<br>https://www.owasp.org/images/b/bc/OWASP_Top_10_Proactive_Controls_V3.pdfhttps://www.owasp.org/images/b/bc/OWASP_Top_10_Proactive_Controls_V3.pdf 
TR-> TD(11,0/1/1)->PAR [OWASP SAMM Project] TD(11,1/1/1)->PAR OWASP SAMM Project<br>https://www.owasp.org/index.php/OWASP_SAMM_Project#tab=Browse_Onlinehttps://www.owasp.org/index.php/OWASP_SAMM_Project#tab=Browse_Online 
TR-> TD(12,0/1/1)->PAR [OWASPMobileTop10] TD(12,1/1/1)->PAR OWASP Mobile Security Project: Top 10 Mobile Risks<br>https://owasp.org/www-project-mobile-top-10/https://owasp.org/www-project-mobile-top-10/  
TR-> TD(13,0/1/1)->PAR [OWASP MASVS] TD(13,1/1/1)->PAR OWASP Mobile Application Security Verification Service<br>https://owasp.org/www-chapter-geneva/assets/slides/OWASP_Geneva-Chapter_Meeting-20161212_Jeremy_Matos-MASVS.pdfhttps://owasp.org/www-chapter-geneva/assets/slides/OWASP_Geneva-Chapter_Meeting-20161212_Jeremy_Matos-MASVS.pdf 
TR-> TD(14,0/1/1)->PAR [OWASP TTMC] TD(14,1/1/1)->PAR OWASP Mobile Security Project<br>https://owasp.org/www-project-mobile-security/https://owasp.org/www-project-mobile-security/ 
TR-> TD(15,0/1/1)->PAR [RFC6960] TD(15,1/1/1)->PAR RFC 6960 (Juni 2013): X.509 Internet Public Key Infrastructure<br>Online Certificate Status Protocol - OCSP<br>https://tools.ietf.org/html/rfc6960https://tools.ietf.org/html/rfc6960
TR-> TD(16,0/1/1)->PAR [vesta] TD(16,1/1/1)->PAR Zentrales Interoperabilitätsverzeichnis des deutschen Gesundheitswesens<br>https://www.vesta-gematik.de/https://www.vesta-gematik.de/ 
TR-> TD(17,0/1/1)->PAR [WSIBP] TD(17,1/1/1)->PAR Web-Services Interoperability Consortium (2010): WS-I Basic Profile V2.0 (final material), <br>http://ws-i.org/Profiles/BasicProfile-2.0-2010-11-09.htmlhttp://ws-i.org/Profiles/BasicProfile-2.0-2010-11-09.html
TR-> TD(18,0/1/1)->PAR [XMLEnc-1.1] TD(18,1/1/1)->PAR XML Encryption Syntax and Processing, W3C Recommendation<br>11 April 2013, http://www.w3.org/TR/xmlenc-core1/http://www.w3.org/TR/xmlenc-core1/
TR-> TD(19,0/1/1)->PAR [NGP] TD(19,1/1/1)->PAR Schnittstelle des Nationalen Gesundheitsportal (gesund.bund.de)<br>gemäß search.gesund.bund.de/documentation/gematik/
TR-> TD(20,0/1/1)->PAR [I_VST] TD(20,1/1/1)->PAR "Vertrauensstelle DATRAV<br>Pseudonymisierungskonzept zur<br>Datenübertragung im Rahmen der<br>Datenfreigabe aus der elektronischen<br>Patientenakte (ePA Lieferpseudonym)"<br>Robert Koch-Institut<br>Version 1.5<br>14.04.2022 
TR-> TD(21,0/1/1)->PAR [I_FDZ] TD(21,1/1/1)->PAR "Forschungsdatenzentrum - Schnittstellenkonzept zur Datenfreigabe ePA",<br>Bundesamt für Arzneimittel und Medizinprodukte<br>Version 1.0,<br>xxx.04.2022 
TR-> TD(22,0/1/1)->PAR [rfc7515] TD(22,1/1/1)->PAR "JSON Web Signature (JWS)"<br>RFC 7515<br>IETF<br>Mai 2015
TR-> TD(23,0/1/1)->PAR [rfc7519] TD(23,1/1/1)->PAR "JSON Web Token (JWT)"<br>RFC 7519<br>IETF<br>Mai 2015
TR-> TD(24,0/1/1)->PAR [rfc4122] TD(24,1/1/1)->PAR "A Universally Unique Identifier (UUID) URN Namespace"<br>RFC 4122<br>IETF<br>Julli 2005
